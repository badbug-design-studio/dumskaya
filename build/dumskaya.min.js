function X2JS(e){function t(){void 0===e.escapeMode&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[]}function a(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function n(e){var t=e.localName;return null==t&&(t=e.baseName),(null==t||""==t)&&(t=e.nodeName),t}function r(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function i(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(t,a,n){switch(e.arrayAccessForm){case"property":t[a+"_asArray"]=t[a]instanceof Array?t[a]:[t[a]]}if(!(t[a]instanceof Array)&&e.arrayAccessFormPaths.length>0){for(var r=0;r<e.arrayAccessFormPaths.length;r++){var o=e.arrayAccessFormPaths[r];if("string"==typeof o){if(o==n)break}else if(o instanceof RegExp){if(o.test(n))break}else if("function"==typeof o&&o(t,a,n))break}r!=e.arrayAccessFormPaths.length&&(t[a]=[t[a]])}}function l(e){var t=e.split(/[-T:+Z]/g),a=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(a.setHours(t[3],t[4],n[0]),n.length>1&&a.setMilliseconds(n[1]),t[6]&&t[7]){var r=60*t[6]+Number(t[7]),o=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";r=0+("-"==o?-1*r:r),a.setMinutes(a.getMinutes()-r-a.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())));return a}function c(t,a,n){if(e.datetimeAccessFormPaths.length>0){for(var r=n.split(".#")[0],o=0;o<e.datetimeAccessFormPaths.length;o++){var i=e.datetimeAccessFormPaths[o];if("string"==typeof i){if(i==r)break}else if(i instanceof RegExp){if(i.test(r))break}else if("function"==typeof i&&i(obj,a,r))break}return o!=e.datetimeAccessFormPaths.length?l(t):t}return t}function d(t,a){if(t.nodeType==x.DOCUMENT_NODE){for(var o=new Object,l=t.childNodes,p=0;p<l.length;p++){var u=l.item(p);if(u.nodeType==x.ELEMENT_NODE){var f=n(u);o[f]=d(u,f)}}return o}if(t.nodeType==x.ELEMENT_NODE){var o=new Object;o.__cnt=0;for(var l=t.childNodes,p=0;p<l.length;p++){var u=l.item(p),f=n(u);u.nodeType!=x.COMMENT_NODE&&(o.__cnt++,null==o[f]?(o[f]=d(u,a+"."+f),s(o,f,a+"."+f)):(null!=o[f]&&(o[f]instanceof Array||(o[f]=[o[f]],s(o,f,a+"."+f))),o[f][o[f].length]=d(u,a+"."+f)))}for(var h=0;h<t.attributes.length;h++){var m=t.attributes.item(h);o.__cnt++,o[e.attributePrefix+m.name]=m.value}var g=r(t);return null!=g&&""!=g&&(o.__cnt++,o.__prefix=g),null!=o["#text"]&&(o.__text=o["#text"],o.__text instanceof Array&&(o.__text=o.__text.join("\n")),e.escapeMode&&(o.__text=i(o.__text)),e.stripWhitespaces&&(o.__text=o.__text.trim()),delete o["#text"],"property"==e.arrayAccessForm&&delete o["#text_asArray"],o.__text=c(o.__text,f,a+"."+f)),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],"property"==e.arrayAccessForm&&delete o["#cdata-section_asArray"]),1==o.__cnt&&null!=o.__text?o=o.__text:0==o.__cnt&&"text"==e.emptyNodeForm?o="":o.__cnt>1&&null!=o.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==o.__text||""==o.__text.trim())&&delete o.__text,delete o.__cnt,!e.enableToStringFunc||null==o.__text&&null==o.__cdata||(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}return t.nodeType==x.TEXT_NODE||t.nodeType==x.CDATA_SECTION_NODE?t.nodeValue:void 0}function p(t,a,n,r){var i="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+a;if(null!=n)for(var s=0;s<n.length;s++){var l=n[s],c=t[l];e.escapeMode&&(c=o(c)),i+=" "+l.substr(e.attributePrefix.length)+"='"+c+"'"}return i+=r?"/>":">"}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function h(t,a){return"property"==e.arrayAccessForm&&f(a.toString(),"_asArray")||0==a.toString().indexOf(e.attributePrefix)||0==a.toString().indexOf("__")||t[a]instanceof Function?!0:!1}function m(e){var t=0;if(e instanceof Object)for(var a in e)h(e,a)||t++;return t}function g(t){var a=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&a.push(n);return a}function v(t){var a="";return null!=t.__cdata&&(a+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(a+=e.escapeMode?o(t.__text):t.__text),a}function b(t){var a="";return t instanceof Object?a+=v(t):null!=t&&(a+=e.escapeMode?o(t):t),a}function y(e,t,a){var n="";if(0==e.length)n+=p(e,t,a,!0);else for(var r=0;r<e.length;r++)n+=p(e[r],t,g(e[r]),!1),n+=w(e[r]),n+=u(e[r],t);return n}function w(e){var t="",a=m(e);if(a>0)for(var n in e)if(!h(e,n)){var r=e[n],o=g(r);if(null==r||void 0==r)t+=p(r,n,o,!0);else if(r instanceof Object)if(r instanceof Array)t+=y(r,n,o);else if(r instanceof Date)t+=p(r,n,o,!1),t+=r.toISOString(),t+=u(r,n);else{var i=m(r);i>0||null!=r.__text||null!=r.__cdata?(t+=p(r,n,o,!1),t+=w(r),t+=u(r,n)):t+=p(r,n,o,!0)}else t+=p(r,n,o,!1),t+=b(r),t+=u(r,n)}return t+=b(e)}var C="1.1.4";e=e||{},t(),a();var x={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){if(void 0===e)return null;var t;if(window.DOMParser){var a=new window.DOMParser,n=a.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI;t=a.parseFromString(e,"text/xml"),t.getElementsByTagNameNS(n,"parsererror").length>0&&(t=null)}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.asArray=function(e){return e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?l(e):e},this.xml2json=function(e){return d(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return w(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return C}}(function(){var e=this,t=e._,a=Array.prototype,n=Object.prototype,r=Function.prototype,o=a.push,i=a.slice,s=a.concat,l=n.toString,c=n.hasOwnProperty,d=Array.isArray,p=Object.keys,u=r.bind,f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):e._=f,f.VERSION="1.7.0";var h=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)};case 4:return function(a,n,r,o){return e.call(t,a,n,r,o)}}return function(){return e.apply(t,arguments)}};f.iteratee=function(e,t,a){return null==e?f.identity:f.isFunction(e)?h(e,t,a):f.isObject(e)?f.matches(e):f.property(e)},f.each=f.forEach=function(e,t,a){if(null==e)return e;t=h(t,a);var n,r=e.length;if(r===+r)for(n=0;r>n;n++)t(e[n],n,e);else{var o=f.keys(e);for(n=0,r=o.length;r>n;n++)t(e[o[n]],o[n],e)}return e},f.map=f.collect=function(e,t,a){if(null==e)return[];t=f.iteratee(t,a);for(var n,r=e.length!==+e.length&&f.keys(e),o=(r||e).length,i=Array(o),s=0;o>s;s++)n=r?r[s]:s,i[s]=t(e[n],n,e);return i};var m="Reduce of empty array with no initial value";f.reduce=f.foldl=f.inject=function(e,t,a,n){null==e&&(e=[]),t=h(t,n,4);var r,o=e.length!==+e.length&&f.keys(e),i=(o||e).length,s=0;if(arguments.length<3){if(!i)throw new TypeError(m);a=e[o?o[s++]:s++]}for(;i>s;s++)r=o?o[s]:s,a=t(a,e[r],r,e);return a},f.reduceRight=f.foldr=function(e,t,a,n){null==e&&(e=[]),t=h(t,n,4);var r,o=e.length!==+e.length&&f.keys(e),i=(o||e).length;if(arguments.length<3){if(!i)throw new TypeError(m);a=e[o?o[--i]:--i]}for(;i--;)r=o?o[i]:i,a=t(a,e[r],r,e);return a},f.find=f.detect=function(e,t,a){var n;return t=f.iteratee(t,a),f.some(e,function(e,a,r){return t(e,a,r)?(n=e,!0):void 0}),n},f.filter=f.select=function(e,t,a){var n=[];return null==e?n:(t=f.iteratee(t,a),f.each(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n)},f.reject=function(e,t,a){return f.filter(e,f.negate(f.iteratee(t)),a)},f.every=f.all=function(e,t,a){if(null==e)return!0;t=f.iteratee(t,a);var n,r,o=e.length!==+e.length&&f.keys(e),i=(o||e).length;for(n=0;i>n;n++)if(r=o?o[n]:n,!t(e[r],r,e))return!1;return!0},f.some=f.any=function(e,t,a){if(null==e)return!1;t=f.iteratee(t,a);var n,r,o=e.length!==+e.length&&f.keys(e),i=(o||e).length;for(n=0;i>n;n++)if(r=o?o[n]:n,t(e[r],r,e))return!0;return!1},f.contains=f.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=f.values(e)),f.indexOf(e,t)>=0)},f.invoke=function(e,t){var a=i.call(arguments,2),n=f.isFunction(t);return f.map(e,function(e){return(n?t:e[t]).apply(e,a)})},f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matches(t))},f.findWhere=function(e,t){return f.find(e,f.matches(t))},f.max=function(e,t,a){var n,r,o=-1/0,i=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:f.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],n>o&&(o=n)}else t=f.iteratee(t,a),f.each(e,function(e,a,n){r=t(e,a,n),(r>i||r===-1/0&&o===-1/0)&&(o=e,i=r)});return o},f.min=function(e,t,a){var n,r,o=1/0,i=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:f.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],o>n&&(o=n)}else t=f.iteratee(t,a),f.each(e,function(e,a,n){r=t(e,a,n),(i>r||1/0===r&&1/0===o)&&(o=e,i=r)});return o},f.shuffle=function(e){for(var t,a=e&&e.length===+e.length?e:f.values(e),n=a.length,r=Array(n),o=0;n>o;o++)t=f.random(0,o),t!==o&&(r[o]=r[t]),r[t]=a[o];return r},f.sample=function(e,t,a){return null==t||a?(e.length!==+e.length&&(e=f.values(e)),e[f.random(e.length-1)]):f.shuffle(e).slice(0,Math.max(0,t))},f.sortBy=function(e,t,a){return t=f.iteratee(t,a),f.pluck(f.map(e,function(e,a,n){return{value:e,index:a,criteria:t(e,a,n)}}).sort(function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(n>a||void 0===n)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,a,n){var r={};return a=f.iteratee(a,n),f.each(t,function(n,o){var i=a(n,o,t);e(r,n,i)}),r}};f.groupBy=g(function(e,t,a){f.has(e,a)?e[a].push(t):e[a]=[t]}),f.indexBy=g(function(e,t,a){e[a]=t}),f.countBy=g(function(e,t,a){f.has(e,a)?e[a]++:e[a]=1}),f.sortedIndex=function(e,t,a,n){a=f.iteratee(a,n,1);for(var r=a(t),o=0,i=e.length;i>o;){var s=o+i>>>1;a(e[s])<r?o=s+1:i=s}return o},f.toArray=function(e){return e?f.isArray(e)?i.call(e):e.length===+e.length?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:e.length===+e.length?e.length:f.keys(e).length},f.partition=function(e,t,a){t=f.iteratee(t,a);var n=[],r=[];return f.each(e,function(e,a,o){(t(e,a,o)?n:r).push(e)}),[n,r]},f.first=f.head=f.take=function(e,t,a){return null==e?void 0:null==t||a?e[0]:0>t?[]:i.call(e,0,t)},f.initial=function(e,t,a){return i.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))},f.last=function(e,t,a){return null==e?void 0:null==t||a?e[e.length-1]:i.call(e,Math.max(e.length-t,0))},f.rest=f.tail=f.drop=function(e,t,a){return i.call(e,null==t||a?1:t)},f.compact=function(e){return f.filter(e,f.identity)};var v=function(e,t,a,n){if(t&&f.every(e,f.isArray))return s.apply(n,e);for(var r=0,i=e.length;i>r;r++){var l=e[r];f.isArray(l)||f.isArguments(l)?t?o.apply(n,l):v(l,t,a,n):a||n.push(l)}return n};f.flatten=function(e,t){return v(e,t,!1,[])},f.without=function(e){return f.difference(e,i.call(arguments,1))},f.uniq=f.unique=function(e,t,a,n){if(null==e)return[];f.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=f.iteratee(a,n));for(var r=[],o=[],i=0,s=e.length;s>i;i++){var l=e[i];if(t)i&&o===l||r.push(l),o=l;else if(a){var c=a(l,i,e);f.indexOf(o,c)<0&&(o.push(c),r.push(l))}else f.indexOf(r,l)<0&&r.push(l)}return r},f.union=function(){return f.uniq(v(arguments,!0,!0,[]))},f.intersection=function(e){if(null==e)return[];for(var t=[],a=arguments.length,n=0,r=e.length;r>n;n++){var o=e[n];if(!f.contains(t,o)){for(var i=1;a>i&&f.contains(arguments[i],o);i++);i===a&&t.push(o)}}return t},f.difference=function(e){var t=v(i.call(arguments,1),!0,!0,[]);return f.filter(e,function(e){return!f.contains(t,e)})},f.zip=function(e){if(null==e)return[];for(var t=f.max(arguments,"length").length,a=Array(t),n=0;t>n;n++)a[n]=f.pluck(arguments,n);return a},f.object=function(e,t){if(null==e)return{};for(var a={},n=0,r=e.length;r>n;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},f.indexOf=function(e,t,a){if(null==e)return-1;var n=0,r=e.length;if(a){if("number"!=typeof a)return n=f.sortedIndex(e,t),e[n]===t?n:-1;n=0>a?Math.max(0,r+a):a}for(;r>n;n++)if(e[n]===t)return n;return-1},f.lastIndexOf=function(e,t,a){if(null==e)return-1;var n=e.length;for("number"==typeof a&&(n=0>a?n+a+1:Math.min(n,a+1));--n>=0;)if(e[n]===t)return n;return-1},f.range=function(e,t,a){arguments.length<=1&&(t=e||0,e=0),a=a||1;for(var n=Math.max(Math.ceil((t-e)/a),0),r=Array(n),o=0;n>o;o++,e+=a)r[o]=e;return r};var b=function(){};f.bind=function(e,t){var a,n;if(u&&e.bind===u)return u.apply(e,i.call(arguments,1));if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");return a=i.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,a.concat(i.call(arguments)));b.prototype=e.prototype;var r=new b;b.prototype=null;var o=e.apply(r,a.concat(i.call(arguments)));return f.isObject(o)?o:r}},f.partial=function(e){var t=i.call(arguments,1);return function(){for(var a=0,n=t.slice(),r=0,o=n.length;o>r;r++)n[r]===f&&(n[r]=arguments[a++]);for(;a<arguments.length;)n.push(arguments[a++]);return e.apply(this,n)}},f.bindAll=function(e){var t,a,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)a=arguments[t],e[a]=f.bind(e[a],e);return e},f.memoize=function(e,t){var a=function(n){var r=a.cache,o=t?t.apply(this,arguments):n;return f.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return a.cache={},a},f.delay=function(e,t){var a=i.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},f.defer=function(e){return f.delay.apply(f,[e,1].concat(i.call(arguments,1)))},f.throttle=function(e,t,a){var n,r,o,i=null,s=0;a||(a={});var l=function(){s=a.leading===!1?0:f.now(),i=null,o=e.apply(n,r),i||(n=r=null)};return function(){var c=f.now();s||a.leading!==!1||(s=c);var d=t-(c-s);return n=this,r=arguments,0>=d||d>t?(clearTimeout(i),i=null,s=c,o=e.apply(n,r),i||(n=r=null)):i||a.trailing===!1||(i=setTimeout(l,d)),o}},f.debounce=function(e,t,a){var n,r,o,i,s,l=function(){var c=f.now()-i;t>c&&c>0?n=setTimeout(l,t-c):(n=null,a||(s=e.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,i=f.now();var c=a&&!n;return n||(n=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},f.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},f.before=function(e,t){var a;return function(){return--e>0?a=t.apply(this,arguments):t=null,a}},f.once=f.partial(f.before,2),f.keys=function(e){if(!f.isObject(e))return[];if(p)return p(e);var t=[];for(var a in e)f.has(e,a)&&t.push(a);return t},f.values=function(e){for(var t=f.keys(e),a=t.length,n=Array(a),r=0;a>r;r++)n[r]=e[t[r]];return n},f.pairs=function(e){for(var t=f.keys(e),a=t.length,n=Array(a),r=0;a>r;r++)n[r]=[t[r],e[t[r]]];return n},f.invert=function(e){for(var t={},a=f.keys(e),n=0,r=a.length;r>n;n++)t[e[a[n]]]=a[n];return t},f.functions=f.methods=function(e){var t=[];for(var a in e)f.isFunction(e[a])&&t.push(a);return t.sort()},f.extend=function(e){if(!f.isObject(e))return e;for(var t,a,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(a in t)c.call(t,a)&&(e[a]=t[a])}return e},f.pick=function(e,t,a){var n,r={};if(null==e)return r;if(f.isFunction(t)){t=h(t,a);for(n in e){var o=e[n];t(o,n,e)&&(r[n]=o)}}else{var l=s.apply([],i.call(arguments,1));e=new Object(e);for(var c=0,d=l.length;d>c;c++)n=l[c],n in e&&(r[n]=e[n])}return r},f.omit=function(e,t,a){if(f.isFunction(t))t=f.negate(t);else{var n=f.map(s.apply([],i.call(arguments,1)),String);t=function(e,t){return!f.contains(n,t)}}return f.pick(e,t,a)},f.defaults=function(e){if(!f.isObject(e))return e;for(var t=1,a=arguments.length;a>t;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e};var y=function(e,t,a,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=a.length;o--;)if(a[o]===e)return n[o]===t;var i=e.constructor,s=t.constructor;if(i!==s&&"constructor"in e&&"constructor"in t&&!(f.isFunction(i)&&i instanceof i&&f.isFunction(s)&&s instanceof s))return!1;a.push(e),n.push(t);var c,d;if("[object Array]"===r){if(c=e.length,d=c===t.length)for(;c--&&(d=y(e[c],t[c],a,n)););}else{var p,u=f.keys(e);if(c=u.length,d=f.keys(t).length===c)for(;c--&&(p=u[c],d=f.has(t,p)&&y(e[p],t[p],a,n)););}return a.pop(),n.pop(),d};f.isEqual=function(e,t){return y(e,t,[],[])},f.isEmpty=function(e){if(null==e)return!0;if(f.isArray(e)||f.isString(e)||f.isArguments(e))return 0===e.length;for(var t in e)if(f.has(e,t))return!1;return!0},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=d||function(e){return"[object Array]"===l.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){f["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return f.has(e,"callee")}),"function"!=typeof/./&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&e!==+e},f.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){return null!=e&&c.call(e,t)},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return function(t){return t[e]}},f.matches=function(e){var t=f.pairs(e),a=t.length;return function(e){if(null==e)return!a;e=new Object(e);for(var n=0;a>n;n++){var r=t[n],o=r[0];if(r[1]!==e[o]||!(o in e))return!1}return!0}},f.times=function(e,t,a){var n=Array(Math.max(0,e));t=h(t,a,1);for(var r=0;e>r;r++)n[r]=t(r);return n},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=f.invert(w),x=function(e){var t=function(t){return e[t]},a="(?:"+f.keys(e).join("|")+")",n=RegExp(a),r=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};f.escape=x(w),f.unescape=x(C),f.result=function(e,t){if(null==e)return void 0;var a=e[t];return f.isFunction(a)?e[t]():a};var T=0;f.uniqueId=function(e){var t=++T+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},k=/\\|'|\r|\n|\u2028|\u2029/g,E=function(e){return"\\"+P[e]};f.template=function(e,t,a){!t&&a&&(t=a),t=f.defaults({},t,f.templateSettings);var n=RegExp([(t.escape||S).source,(t.interpolate||S).source,(t.evaluate||S).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(n,function(t,a,n,i,s){return o+=e.slice(r,s).replace(k,E),r=s+t.length,a?o+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var i=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return i.call(this,e,f)},c=t.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},f.chain=function(e){var t=f(e);return t._chain=!0,t};var O=function(e){return this._chain?f(e).chain():e};f.mixin=function(e){f.each(f.functions(e),function(t){var a=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),O.call(this,a.apply(f,e))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];f.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0],O.call(this,a)}}),f.each(["concat","join","slice"],function(e){var t=a[e];f.prototype[e]=function(){return O.call(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}).call(this),define("_",function(e){return function(){var t;return t||e._}}(this)),function(){window.Framework7=function(t){function a(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});o["onPage"+t]=function(t,a){return o.onPage(e,t,a)}}function n(){var e,t=s(this),a=t[0].scrollTop,n=t[0].scrollHeight,r=t[0].offsetHeight,o=t[0].getAttribute("data-distance"),i=t.find(".virtual-list");if(o||(o=50),"string"==typeof o&&o.indexOf("%")>=0&&(o=parseInt(o,10)/100*r),o>r&&(o=r),a+r>=n-o){if(i.length>0&&(e=i[0].f7VirtualList,e&&!e.reachEnd))return;t.trigger("infinite")}}function r(){o.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var o=this;o.version="0.10.0",o.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,init:!0};for(var i in t)o.params[i]=t[i];var s=e,l=Template7;o._compiledTemplates={},o.touchEvents={start:o.support.touch?"touchstart":"mousedown",move:o.support.touch?"touchmove":"mousemove",end:o.support.touch?"touchend":"mouseup"},o.ls=localStorage,o.rtl="rtl"===s("body").css("direction"),o.rtl&&s("html").attr("dir","rtl"),"undefined"!=typeof o.params.statusbarOverlay&&(o.params.statusbarOverlay?s("html").addClass("with-statusbar-overlay"):s("html").removeClass("with-statusbar-overlay")),o.views=[];var c=function(e,t){var a,n={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:o.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:o.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:o.params.allowDuplicateUrls,swipeBackPage:o.params.swipeBackPage,swipeBackPageAnimateShadow:o.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:o.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:o.params.swipeBackPageActiveArea,swipeBackPageThreshold:o.params.swipeBackPageThreshold,animatePages:o.params.animatePages,preloadPreviousPage:o.params.preloadPreviousPage};t=t||{};for(var r in n)"undefined"==typeof t[r]&&(t[r]=n[r]);var i=this;i.params=t,i.selector=e;var l=s(e);if(i.container=l[0],i.contentCache={},i.pagesCache={},l[0].f7View=i,i.pagesContainer=l.find(".pages")[0],i.initialPages=[],i.initialNavbars=[],i.params.domCache){var c=l.find(".page");for(a=0;a<c.length;a++)i.initialPages.push(c[a]);if(i.params.dynamicNavbar){var d=l.find(".navbar-inner");for(a=0;a<d.length;a++)i.initialNavbars.push(d[a])}}i.allowPageChange=!0;var p=document.location.href;i.history=[];var u=p,f=o.params.pushStateSeparator,h=o.params.pushStateRoot;o.params.pushState&&(h?u=h:u.indexOf(f)>=0&&u.indexOf(f+"#")<0&&(u=u.split(f)[0]));var m,g;i.activePage||(m=s(i.pagesContainer).find(".page-on-center"),0===m.length&&(m=s(i.pagesContainer).find(".page:not(.cached)"),m=m.eq(m.length-1)),m.length>0&&(g=m[0].f7PageData)),i.params.domCache&&m?(i.url=l.attr("data-url")||i.params.url||"#"+m.attr("data-page"),i.pagesCache[i.url]=m.attr("data-page")):i.url=l.attr("data-url")||i.params.url||u,g&&(g.view=i,g.url=i.url,i.activePage=g,m[0].f7PageData=g),i.url&&i.history.push(i.url),i.main=l.hasClass(o.params.viewMainClass);var v,b,y,w,C,x,T,S,P,k,E=!1,O=!1,N={},I=[],M=[],A=!0,D=[],L=[];if(i.handleTouchStart=function(e){A&&i.params.swipeBackPage&&!E&&!o.swipeoutOpenedEl&&(O=!1,E=!0,v=void 0,N.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,N.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),P=i.params.dynamicNavbar&&l.find(".navbar-inner").length>1)},i.handleTouchMove=function(e){if(E){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof v&&(v=!!(v||Math.abs(a-N.y)>Math.abs(t-N.x))),v||e.f7PreventSwipeBack||o.preventSwipeBack)return void(E=!1);if(!O){var n=!1;b=l.width();var r=s(e.target),c=r.hasClass("swipeout")?r:r.parents(".swipeout");c.length>0&&(!o.rtl&&c.find(".swipeout-actions-left").length>0&&(n=!0),o.rtl&&c.find(".swipeout-actions-right").length>0&&(n=!0)),I=r.is(".page")?r:r.parents(".page"),I.hasClass("no-swipeback")&&(n=!0),M=l.find(".page-on-left:not(.cached)");var d=N.x-l.offset().left>i.params.swipeBackPageActiveArea;if(d=o.rtl?N.x<l.offset().left-l[0].scrollLeft+b-i.params.swipeBackPageActiveArea:N.x-l.offset().left>i.params.swipeBackPageActiveArea,d&&(n=!0),(0===M.length||0===I.length)&&(n=!0),n)return void(E=!1);P&&(D=l.find(".navbar-on-center:not(.cached)"),L=l.find(".navbar-on-left:not(.cached)"),C=D.find(".left, .center, .right"),x=L.find(".left, .center, .right"),o.params.animateNavBackIcon&&(T=D.find(".left.sliding .back .icon"),S=L.find(".left.sliding .back .icon")))}e.f7PreventPanelSwipe=!0,O=!0,e.preventDefault();var p=o.rtl?-1:1;y=(t-N.x-i.params.swipeBackPageThreshold)*p,0>y&&(y=0);var u=y/b,f={percentage:u,activePage:I[0],previousPage:M[0],activeNavbar:D[0],previousNavbar:L[0]};i.params.onSwipeBackMove&&i.params.onSwipeBackMove(f),l.trigger("swipebackmove",f);var h=y*p,m=(y/5-b/5)*p;if(1===o.device.pixelRatio&&(h=Math.round(h),m=Math.round(m)),I.transform("translate3d("+h+"px,0,0)"),i.params.swipeBackPageAnimateShadow&&"android"!==o.device.os&&(I[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*u)+")"),M.transform("translate3d("+m+"px,0,0)"),i.params.swipeBackPageAnimateOpacity&&(M[0].style.opacity=.9+.1*u),P){var g;for(g=0;g<C.length;g++)if(k=s(C[g]),k[0].style.opacity=1-1.3*u,k[0].className.indexOf("sliding")>=0){var w=u*k[0].f7NavbarRightOffset;1===o.device.pixelRatio&&(w=Math.round(w)),k.transform("translate3d("+w+"px,0,0)"),o.params.animateNavBackIcon&&k[0].className.indexOf("left")>=0&&T.length>0&&T.transform("translate3d("+-w+"px,0,0)")}for(g=0;g<x.length;g++)if(k=s(x[g]),k[0].style.opacity=1.3*u-.3,k[0].className.indexOf("sliding")>=0){var A=k[0].f7NavbarLeftOffset*(1-u);1===o.device.pixelRatio&&(A=Math.round(A)),k.transform("translate3d("+A+"px,0,0)"),o.params.animateNavBackIcon&&k[0].className.indexOf("left")>=0&&S.length>0&&S.transform("translate3d("+-A+"px,0,0)")}}}},i.handleTouchEnd=function(){if(!E||!O)return E=!1,void(O=!1);if(E=!1,O=!1,0===y)return s([I[0],M[0]]).transform("").css({opacity:"",boxShadow:""}),void(P&&(C.transform("").css({opacity:""}),x.transform("").css({opacity:""}),T&&T.length>0&&T.transform(""),S&&T.length>0&&S.transform("")));var e=(new Date).getTime()-w,t=!1;if((300>e&&y>10||e>=300&&y>b/2)&&(I.removeClass("page-on-center").addClass("page-on-right"),M.removeClass("page-on-left").addClass("page-on-center"),P&&(D.removeClass("navbar-on-center").addClass("navbar-on-right"),L.removeClass("navbar-on-left").addClass("navbar-on-center")),t=!0),s([I[0],M[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),P&&(C.css({opacity:""}).each(function(){var e=t?this.f7NavbarRightOffset:0,a=s(this);a.transform("translate3d("+e+"px,0,0)"),o.params.animateNavBackIcon&&a.hasClass("left")&&T.length>0&&T.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),x.transform("").css({opacity:""}).each(function(){var e=t?0:this.f7NavbarLeftOffset,a=s(this);a.transform("translate3d("+e+"px,0,0)"),o.params.animateNavBackIcon&&a.hasClass("left")&&S.length>0&&S.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),A=!1,i.allowPageChange=!1,t){var a=i.history[i.history.length-2];i.url=a,o.pageBackCallbacks("before",i,{pageContainer:I[0],url:a,position:"center",newPage:M,oldPage:I,swipeBack:!0}),o.pageAnimCallbacks("before",i,{pageContainer:M[0],url:a,position:"left",newPage:M,oldPage:I,swipeBack:!0})}I.transitionEnd(function(){s([I[0],M[0]]).removeClass("page-transitioning"),P&&(C.removeClass("page-transitioning").css({opacity:""}),x.removeClass("page-transitioning").css({opacity:""}),T&&T.length>0&&T.removeClass("page-transitioning"),S&&S.length>0&&S.removeClass("page-transitioning")),A=!0,i.allowPageChange=!0,t&&(o.params.pushState&&history.back(),o.pageBackCallbacks("after",i,{pageContainer:I[0],url:a,position:"center",newPage:M,oldPage:I,swipeBack:!0}),o.pageAnimCallbacks("after",i,{pageContainer:M[0],url:a,position:"left",newPage:M,oldPage:I,swipeBack:!0}),o.router.afterBack(i,I,M))
})},i.attachEvents=function(e){var t=e?"off":"on";l[t](o.touchEvents.start,i.handleTouchStart),l[t](o.touchEvents.move,i.handleTouchMove),l[t](o.touchEvents.end,i.handleTouchEnd)},i.detachEvents=function(){i.attachEvents(!0)},i.params.swipeBackPage&&i.attachEvents(),o.views.push(i),i.main&&(o.mainView=i),i.router={load:function(e){return o.router.load(i,e)},back:function(e){return window.stop(),o.router.back(i,e)},loadPage:function(e){if(e=e||{},"string"==typeof e){var t=e;e={},t&&0===t.indexOf("#")&&i.params.domCache?e.pageName=t.split("#")[1]:e.url=t}return o.router.load(i,e)},loadContent:function(e){return o.router.load(i,{content:e})},reloadPage:function(e){return o.router.load(i,{url:e,reload:!0})},reloadContent:function(e){return o.router.load(i,{content:e,reload:!0})},reloadPreviousPage:function(e){return o.router.load(i,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return o.router.load(i,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:i.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(i.params.domCache&&i.pagesCache[e.url]?(e.pageName=i.pagesCache[e.url],e.url=void 0,delete e.url):i.contentCache[e.url]&&(e.content=i.contentCache[e.url],e.url=void 0,delete e.url)),o.router.load(i,e)},refreshPreviousPage:function(){var e={url:i.history[i.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&i.params.domCache&&i.pagesCache[e.url]&&(e.pageName=i.pagesCache[e.url],e.url=void 0,delete e.url),o.router.load(i,e)}},i.loadPage=i.router.loadPage,i.loadContent=i.router.loadContent,i.reloadPage=i.router.reloadPage,i.reloadContent=i.router.reloadContent,i.reloadPreviousPage=i.router.reloadPreviousPage,i.reloadPreviousContent=i.router.reloadPreviousContent,i.refreshPage=i.router.refreshPage,i.refreshPreviousPage=i.router.refreshPreviousPage,i.back=i.router.back,i.hideNavbar=function(){return o.hideNavbar(l.find(".navbar"))},i.showNavbar=function(){return o.showNavbar(l.find(".navbar"))},i.hideToolbar=function(){return o.hideToolbar(l.find(".toolbar"))},i.showToolbar=function(){return o.showToolbar(l.find(".toolbar"))},o.params.pushState&&i.main){var B;h?B=p.split(o.params.pushStateRoot+f)[1]:p.indexOf(f)>=0&&p.indexOf(f+"#")<0&&(B=p.split(f)[1]);var _=o.params.pushStateNoAnimation?!1:void 0;if(B)o.router.load(i,{url:B,animatePages:_,pushState:!1});else if(p.indexOf(f+"#")>=0){var R=history.state;R.pageName&&"viewIndex"in R&&o.router.load(i,{pageName:R.pageName,pushState:!1})}}return i.destroy=function(){i.detachEvents(),i=void 0},o.pluginHook("addView",i),i};o.addView=function(e,t){return new c(e,t)},o.navbarInitCallback=function(e,t,a,n,r,i){var l={container:a,innerContainer:n},c={url:r,query:s.parseUrlQuery(r||""),container:t,name:s(t).attr("data-page"),view:e,from:i},d={navbar:l,page:c};o.pluginHook("navbarInit",l,c),s(n).trigger("navbarInit",d)},o.sizeNavbars=function(e){var t=e?s(e).find(".navbar .navbar-inner:not(.cached)"):s(".navbar .navbar-inner:not(.cached)");t.each(function(){var e=s(this);if(!e.hasClass("cached")){var t,a,n=e.find(o.rtl?".right":".left"),r=e.find(o.rtl?".left":".right"),i=e.find(".center"),l=0===n.length,c=0===r.length,d=l?0:n.outerWidth(!0),p=c?0:r.outerWidth(!0),u=i.outerWidth(!0),f=e[0].offsetWidth-parseInt(e.css("padding-left"),10)-parseInt(e.css("padding-right"),10),h=e.hasClass("navbar-on-left");c&&(t=f-u),l&&(t=0),l||c||(t=(f-p-u+d)/2);var m=(f-u)/2;f-d-p>u?(d>m&&(m=d),m+u>f-p&&(m=f-p-u),a=m-t):a=0;var g=o.rtl?-1:1,v=a;o.rtl&&l&&c&&i.length>0&&(v=-v),i.css({left:v+"px"}),i.hasClass("sliding")&&(i[0].f7NavbarLeftOffset=-(t+a)*g,i[0].f7NavbarRightOffset=(f-t-a-u)*g,h&&i.transform("translate3d("+i[0].f7NavbarLeftOffset+"px, 0, 0)")),!l&&n.hasClass("sliding")&&(o.rtl?(n[0].f7NavbarLeftOffset=-(f-n.outerWidth())/2*g,n[0].f7NavbarRightOffset=d*g):(n[0].f7NavbarLeftOffset=-d,n[0].f7NavbarRightOffset=(f-n.outerWidth())/2),h&&n.transform("translate3d("+n[0].f7NavbarLeftOffset+"px, 0, 0)")),!c&&r.hasClass("sliding")&&(o.rtl?(r[0].f7NavbarLeftOffset=-p*g,r[0].f7NavbarRightOffset=(f-r.outerWidth())/2*g):(r[0].f7NavbarLeftOffset=-(f-r.outerWidth())/2,r[0].f7NavbarRightOffset=p),h&&r.transform("translate3d("+r[0].f7NavbarLeftOffset+"px, 0, 0)"))}})},o.hideNavbar=function(e){return s(e).addClass("navbar-hidden"),!0},o.showNavbar=function(e){var t=s(e);return t.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){t.removeClass("navbar-hiding")}),!0},o.hideToolbar=function(e){return s(e).addClass("toolbar-hidden"),!0},o.showToolbar=function(e){var t=s(e);t.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){t.removeClass("toolbar-hiding")})},o.initSearchbar=function(e){function t(){m.val("").trigger("change"),u.removeClass("searchbar-active searchbar-not-empty"),v.length>0&&v.css(T,-v[0].offsetWidth+"px"),b&&h.removeClass("searchbar-overlay-active"),o.device.ios?setTimeout(function(){m.blur(),b.trigger("disableSearch")},400):(m.blur(),b.trigger("disableSearch"))}function a(){o.device.ios?setTimeout(function(){b&&!u.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active"),u.addClass("searchbar-active"),v.length>0&&v.css(T,"0px"),b.trigger("enableSearch")},400):(b&&!u.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active"),u.addClass("searchbar-active"),v.length>0&&v.css(T,"0px"),b.trigger("enableSearch"))}function n(){m.val("").trigger("change").focus(),b.trigger("clearSearch")}function r(){setTimeout(function(){var e=m.val().trim();0===e.length?(u.removeClass("searchbar-not-empty"),b&&u.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active")):(u.addClass("searchbar-not-empty"),b&&u.hasClass("searchbar-active")&&h.removeClass("searchbar-overlay-active")),b.length>0&&(w||y)&&d(e)},0)}function i(e){e.preventDefault()}function l(e){var o=e?"off":"on";u[o]("submit",i),v[o]("click",t),h[o]("click",t),m[o]("focus",a),m[o]("change keydown keypress keyup",r),g[o]("click",n)}function c(){l(!0)}function d(e){if(e.trim()!==S){S=e.trim();var t=e.trim().toLowerCase().split(" "),a=[];if(y){if(f=b[0].f7VirtualList,""===e.trim())return f.resetFilter(),x.hide(),void C.show();if(f.params.searchAll)a=f.params.searchAll(e,f.items)||[];else if(f.params.searchByItem)for(var n=0;n<f.items.length;n++)f.params.searchByItem(e,n,f.params.items[n])&&a.push(n)}else b.find("li").removeClass("hidden-by-searchbar").each(function(e,n){n=s(n);var r=n.find(w);if(0!==r.length){var o;o=r.text().trim().toLowerCase();for(var i=0,l=0;l<t.length;l++)o.indexOf(t[l])>=0&&i++;i!==t.length?n.addClass("hidden-by-searchbar"):a.push(n[0])}}),o.params.searchbarHideDividers&&b.find(".item-divider, .list-group-title").each(function(){for(var e=s(this),t=e.nextAll("li"),a=!0,n=0;n<t.length;n++){var r=s(t[n]);if(r.hasClass("list-group-title")||r.hasClass("item-divider"))break;r.hasClass("hidden-by-searchbar")||(a=!1)}a?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),o.params.searchbarHideGroups&&b.find(".list-group").each(function(){var e=s(this),t=e.find("li:not(.hidden-by-searchbar)");0===t.length?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")});b.trigger("search",{query:e,foundItems:a}),0===a.length?(x.show(),C.hide()):(x.hide(),C.show()),y&&f.filterItems(a)}}function p(){c(),e.off("pageBeforeRemove",p)}e=s(e);var u=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==u.length){e.hasClass("page")||(e=u.parents(".page").eq(0));var f,h=e.hasClass("page")?e.find(".searchbar-overlay"):s(".searchbar-overlay"),m=u.find('input[type="search"]'),g=u.find(".searchbar-clear"),v=u.find(".searchbar-cancel"),b=s(u.attr("data-search-list")),y=b.hasClass("virtual-list"),w=u.attr("data-search-in"),C=(u.attr("data-search-by"),u.attr("data-searchbar-found"));C?C=s(C):(C=e.find(".searchbar-found"),0===C.length&&(C=s(".searchbar-found")));var x=u.attr("data-searchbar-not-found");x?x=s(x):(x=e.find(".searchbar-not-found"),0===x.length&&(x=s(".searchbar-not-found")));var T=o.rtl?"margin-left":"margin-right";v.length>0&&v.css(T,-v[0].offsetWidth+"px"),u[0].f7DestroySearchbar=c,l();var S;e.hasClass("page")&&e.on("pageBeforeRemove",p)}},o.destroySearchbar=function(e){e=s(e);var t=e.hasClass("searchbar")?e:e.find(".searchbar");0!==t.length&&t[0].f7DestroySearchbar&&t[0].f7DestroySearchbar()},o.initMessagebar=function(e){function t(e){e.preventDefault()}function a(){d.css({height:""});var e=d[0].offsetHeight,t=e-d[0].clientHeight,a=d[0].scrollHeight;if(a+t>e){var n=a+t,r=u+(n-f),o=l.attr("data-max-height")||l.parents(".view")[0].offsetHeight-88;r>o&&(r=o,n=r-u+f),d.css("height",n+"px"),l.css("height",r+"px"),p.length>0&&(p.css("padding-bottom",r+"px"),p.scrollTop(p[0].scrollHeight-p[0].offsetHeight))}else p.length>0&&(l.css({height:""}),p.css({"padding-bottom":""}))}function n(){clearTimeout(c),c=setTimeout(function(){a()},0)}function r(e){var a=e?"off":"on";l[a]("submit",t),d[a]("change keydown keypress keyup paste cut",n)}function o(){r(!0)}function i(){o(),e.off("pageBeforeRemove",i)}e=s(e);var l=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==l.length){var c,d=l.find("textarea"),p=l.parents(".page").find(".page-content"),u=l[0].offsetHeight,f=d[0].offsetHeight;l[0].f7DestroyMessagebar=o,r(),e.hasClass("page")&&e.on("pageBeforeRemove",i)}},o.destroyMessagebar=function(e){e=s(e);var t=e.hasClass("messagebar")?e:e.find(".messagebar");0!==t.length&&t[0].f7DestroyMessagebar&&t[0].f7DestroyMessagebar()},o.cache=[],o.removeFromCache=function(e){for(var t=!1,a=0;a<o.cache.length;a++)o.cache[a].url===e&&(t=a);t!==!1&&o.cache.splice(t,1)},o.xhr=!1,o.get=function(e,t,a,n){var r=e;if(o.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(r=e.split("?")[0]),o.params.cache&&!a&&e.indexOf("nocache")<0&&o.params.cacheIgnore.indexOf(r)<0)for(var i=0;i<o.cache.length;i++)if(o.cache[i].url===r&&(new Date).getTime()-o.cache[i].time<o.params.cacheDuration)return n(o.cache[i].content),!1;return o.xhr=s.ajax({url:e,method:"GET",start:o.params.onAjaxStart,complete:function(e){200===e.status||0===e.status?(o.params.cache&&!a&&(o.removeFromCache(r),o.cache.push({url:r,time:(new Date).getTime(),content:e.responseText})),n(e.responseText,!1)):n(e.responseText,!0),o.params.onAjaxComplete&&o.params.onAjaxComplete(e)},error:function(e){n(e.responseText,!0),o.params.onAjaxError&&o.params.onAjaxonAjaxError(e)}}),t&&(t.xhr=o.xhr),o.xhr},o.pageCallbacks={},o.onPage=function(e,t,a){if(t&&t.split(" ").length>1){for(var n=t.split(" "),r=[],i=0;i<n.length;i++)r.push(o.onPage(e,n[i],a));return r.remove=function(){for(var e=0;e<r.length;e++)r[e].remove()},r.trigger=function(){for(var e=0;e<r.length;e++)r[e].trigger()},r}var s=o.pageCallbacks[e][t];return s||(s=o.pageCallbacks[e][t]=[]),o.pageCallbacks[e][t].push(a),{remove:function(){for(var e,t=0;t<s.length;t++)s[t].toString()===a.toString()&&(e=t);"undefined"!=typeof e&&s.splice(e,1)},trigger:a}};for(var d="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),p=0;p<d.length;p++)o.pageCallbacks[d[p]]={},a(d[p]);o.triggerPageCallbacks=function(e,t,a){var n=o.pageCallbacks[e]["*"];if(n)for(var r=0;r<n.length;r++)n[r](a);var i=o.pageCallbacks[e][t];if(i&&0!==i.length)for(var s=0;s<i.length;s++)i[s](a)},o.pageInitCallback=function(e,t){var a=t.pageContainer;if(!a.f7PageInitialized||e.params.domCache){var n={container:a,url:t.url,query:s.parseUrlQuery(t.url||""),name:s(a).attr("data-page"),view:e,from:t.position,context:t.context,navbarInnerContainer:t.navbarInnerContainer};if(a.f7PageInitialized&&e.params.domCache)return o.reinitPage(a),o.pluginHook("pageReinit",n),o.params.onPageReinit&&o.params.onPageBeforeInit(o,n),o.triggerPageCallbacks("reinit",n.name,n),void s(n.container).trigger("pageReinit",{page:n});a.f7PageInitialized=!0,a.f7PageData=n,e&&(e.activePage=n),o.pluginHook("pageBeforeInit",n),o.params.onPageBeforeInit&&o.params.onPageBeforeInit(o,n),o.triggerPageCallbacks("beforeInit",n.name,n),s(n.container).trigger("pageBeforeInit",{page:n}),o.initPage(a),o.pluginHook("pageInit",n),o.params.onPageInit&&o.params.onPageInit(o,n),o.triggerPageCallbacks("init",n.name,n),s(n.container).trigger("pageInit",{page:n})}},o.pageRemoveCallback=function(e,t,a){var n={container:t,name:s(t).attr("data-page"),view:e,url:t.f7PageData&&t.f7PageData.url,query:t.f7PageData&&t.f7PageData.query,from:a};o.pluginHook("pageBeforeRemove",n),o.params.onPageBeforeRemove&&o.params.onPageBeforeRemove(o,n),o.triggerPageCallbacks("beforeRemove",n.name,n),s(n.container).trigger("pageBeforeRemove",{page:n})},o.pageBackCallbacks=function(e,t,a){var n=a.pageContainer,r={container:a.pageContainer,name:s(n).attr("data-page"),url:n.f7PageData&&n.f7PageData.url,query:n.f7PageData&&n.f7PageData.query,view:t,from:a.position,context:a.context,swipeBack:a.swipeBack};"after"===e&&(o.pluginHook("pageAfterBack",r),o.params.onPageAfterBack&&o.params.onPageAfterBack(o,r),o.triggerPageCallbacks("afterBack",r.name,r),s(n).trigger("pageAfterBack",{page:r})),"before"===e&&(o.pluginHook("pageBack",r),o.params.onPageBack&&o.params.onPageBack(o,r),o.triggerPageCallbacks("back",r.name,r),s(r.container).trigger("pageBack",{page:r}))},o.pageAnimCallbacks=function(e,t,a){var n={container:a.pageContainer,url:a.url,query:s.parseUrlQuery(a.url||""),name:s(a.pageContainer).attr("data-page"),view:t,from:a.position,context:a.context,swipeBack:a.swipeBack},r=a.oldPage,i=a.newPage;if(a.pageContainer.f7PageData=n,"after"===e&&(o.pluginHook("pageAfterAnimation",n),o.params.onPageAfterAnimation&&o.params.onPageAfterAnimation(o,n),o.triggerPageCallbacks("afterAnimation",n.name,n),s(n.container).trigger("pageAfterAnimation",{page:n})),"before"===e){s(t.container).attr("data-page",n.name),t&&(t.activePage=n),i.hasClass("no-navbar")&&!r.hasClass("no-navbar")&&t.hideNavbar(),i.hasClass("no-navbar")||!r.hasClass("no-navbar")&&!r.hasClass("no-navbar-by-scroll")||t.showNavbar(),i.hasClass("no-toolbar")&&!r.hasClass("no-toolbar")&&t.hideToolbar(),i.hasClass("no-toolbar")||!r.hasClass("no-toolbar")&&!r.hasClass("no-toolbar-by-scroll")||t.showToolbar();var l;i.hasClass("no-tabbar")&&!r.hasClass("no-tabbar")&&(l=s(t.container).find(".tabbar"),0===l.length&&(l=s(t.container).parents("."+o.params.viewsClass).find(".tabbar")),o.hideToolbar(l)),i.hasClass("no-tabbar")||!r.hasClass("no-tabbar")&&!r.hasClass("no-tabbar-by-scroll")||(l=s(t.container).find(".tabbar"),0===l.length&&(l=s(t.container).parents("."+o.params.viewsClass).find(".tabbar")),o.showToolbar(l)),r.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),o.pluginHook("pageBeforeAnimation",n),o.params.onPageBeforeAnimation&&o.params.onPageBeforeAnimation(o,n),o.triggerPageCallbacks("beforeAnimation",n.name,n),s(n.container).trigger("pageBeforeAnimation",{page:n})}},o.initPage=function(e){o.sizeNavbars&&o.sizeNavbars(s(e).parents("."+o.params.viewClass)[0]),o.initMessages&&o.initMessages(e),o.initFormsStorage&&o.initFormsStorage(e),o.initSmartSelects&&o.initSmartSelects(e),o.initSlider&&o.initSlider(e),o.initPullToRefresh&&o.initPullToRefresh(e),o.initInfiniteScroll&&o.initInfiniteScroll(e),o.initSearchbar&&o.initSearchbar(e),o.initMessagebar&&o.initMessagebar(e),o.initScrollToolbars&&o.initScrollToolbars(e)},o.reinitPage=function(e){o.sizeNavbars&&o.sizeNavbars(s(e).parents("."+o.params.viewClass)[0]),o.reinitSlider&&o.reinitSlider(e)},o.router={temporaryDom:document.createElement("div"),findElement:function(e,t,a,n){t=s(t),n&&(e+=":not(.cached)");var r=t.find(e);return r.length>1&&("string"==typeof a.selector&&(r=t.find(a.selector+" "+e)),r.length>1&&(r=t.find("."+o.params.viewMainClass+" "+e))),1===r.length?r:(n||(r=o.router.findElement(e,t,a,!0)),r&&1===r.length?r:void 0)},animatePages:function(e,t,a){var n="page-on-center page-on-right page-on-left";"to-left"===a&&(e.removeClass(n).addClass("page-from-center-to-left"),t.removeClass(n).addClass("page-from-right-to-center")),"to-right"===a&&(e.removeClass(n).addClass("page-from-left-to-center"),t.removeClass(n).addClass("page-from-center-to-right"))},prepareNavbar:function(e,t,a){s(e).find(".sliding").each(function(){var e=s(this),n="right"===a?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;o.params.animateNavBackIcon&&(e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-n+"px,0,0)"),"left"===a&&e.hasClass("center")&&s(t).find(".left .back .icon ~ span").length>0&&(n+=s(t).find(".left .back span")[0].offsetLeft)),e.transform("translate3d("+n+"px,0,0)")})},animateNavbars:function(e,t,a){var n="navbar-on-right navbar-on-center navbar-on-left";"to-left"===a&&(t.removeClass(n).addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(n).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e=s(this);o.params.animateNavBackIcon&&(e.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=t.find(".sliding.left .back span")[0].offsetLeft),e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),e.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===a&&(e.removeClass(n).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass(n).addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=s(this);o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,t,a){o.pluginHook("routerPreprocess",e,t,a),e=o.pluginProcess("preprocess",e),o.params.preprocess?(e=o.params.preprocess(e,t,a),"undefined"!=typeof e&&a(e)):a(e)},template7Render:function(e,t){{var a,n,r=t.url,i=t.content,c=t.content,d=t.context,p=t.contextName,u=t.template;t.pageName}if("string"==typeof i?r?o.template7Cache[r]?n=l.cache[r]:(n=l.compile(i),l.cache[r]=n):n=l.compile(i):u&&(n=u),d)a=d;else{if(p)if(p.indexOf(".")>=0){for(var f=p.split("."),h=l.data[f[0]],m=1;m<f.length;m++)f[m]&&(h=h[f[m]]);a=h}else a=l.data[p];if(!a&&r&&(a=l.data["url:"+r]),!a&&"string"==typeof i&&!u){var g=i.match(/(data-page=["'][^"^']*["'])/);if(g){var v=g[0].split("data-page=")[1].replace(/['"]/g,"");v&&(a=l.data["page:"+v])}}if(!a&&u&&l.templates)for(var b in l.templates)l.templates[b]===u&&(a=l.data[b]);a||(a={})}if(n&&a){if("function"==typeof a&&(a=a()),r){var y=s.parseUrlQuery(r);a.url_query={};for(var w in y)a.url_query[w]=y[w]}c=n(a)}return{content:c,context:a}}},o.router._load=function(e,t){function a(){e.allowPageChange=!0,n.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),r.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),u&&(d.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),c.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),o.pageAnimCallbacks("after",e,{pageContainer:n[0],url:h,position:"right",oldPage:r,newPage:n,context:g.context}),o.params.pushState&&o.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(r.addClass("cached"),c.addClass("cached")):(0!==h.indexOf("#")||0!==n.attr("data-page").indexOf("smart-select-"))&&(o.pageRemoveCallback(e,r[0],"left"),r.remove(),u&&c.remove())),e.params.uniqueHistory&&N&&e.refreshPreviousPage()}t=t||{};var n,r,i,l,c,d,p,u,f,h=t.url,m=t.content,g={content:t.content},v=t.template,b=t.pageName,y=s(e.container),w=s(e.pagesContainer),C=t.animatePages,x="undefined"==typeof h&&m||v,T=t.pushState;if("undefined"==typeof C&&(C=e.params.animatePages),o.pluginHook("routerLoad",e,t),(o.params.template7Pages&&"string"==typeof m||v)&&(g=o.router.template7Render(e,t),g.content&&!m&&(m=g.content)),o.router.temporaryDom.innerHTML="",!b)if(h||"string"==typeof m)o.router.temporaryDom.innerHTML=g.content;else if("length"in m&&m.length>1)for(var S=0;S<m.length;S++)s(o.router.temporaryDom).append(m[S]);else s(o.router.temporaryDom).append(m);if(f=t.reload&&(t.reloadPrevious?"left":"center"),n=b?w.find('.page[data-page="'+b+'"]'):o.router.findElement(".page",o.router.temporaryDom,e),!n||0===n.length||b&&e.activePage&&e.activePage.name===b)return void(e.allowPageChange=!0);if(n.addClass(t.reload?"page-on-"+f:"page-on-right"),i=w.children(".page:not(.cached)"),t.reload&&t.reloadPrevious&&1===i.length)return void(e.allowPageChange=!0);if(t.reload)r=i.eq(i.length-1);else{if(i.length>1){for(l=0;l<i.length-2;l++)e.params.domCache?s(i[l]).addClass("cached"):(o.pageRemoveCallback(e,i[l],"left"),s(i[l]).remove());e.params.domCache?s(i[l]).addClass("cached"):(o.pageRemoveCallback(e,i[l],"left"),s(i[l]).remove())}r=w.children(".page:not(.cached)")}if(e.params.domCache&&n.removeClass("cached"),e.params.dynamicNavbar)if(u=!0,d=b?y.find('.navbar-inner[data-page="'+b+'"]'):o.router.findElement(".navbar-inner",o.router.temporaryDom,e),d&&0!==d.length||(u=!1),p=y.find(".navbar"),t.reload)c=p.find(".navbar-inner:not(.cached):last-child");else if(c=p.find(".navbar-inner:not(.cached)"),c.length>0){for(l=0;l<c.length-1;l++)e.params.domCache?s(c[l]).addClass("cached"):s(c[l]).remove();d||1!==c.length||(e.params.domCache?s(c[0]).addClass("cached"):s(c[0]).remove()),c=p.find(".navbar-inner:not(.cached)")}if(u&&(d.addClass(t.reload?"navbar-on-"+f:"navbar-on-right"),e.params.domCache&&d.removeClass("cached"),n[0].f7RelatedNavbar=d[0],d[0].f7RelatedPage=n[0]),!h){var P=b||n.attr("data-page");h=x?"#"+o.params.dynamicPageUrl.replace(/{{name}}/g,P).replace(/{{index}}/g,e.history.length-(t.reload?1:0)):"#"+P,e.params.domCache||(e.contentCache[h]=m),e.params.domCache&&b&&(e.pagesCache[h]=b)}if(o.params.pushState&&!t.reloadPrevious&&e.main){"undefined"==typeof T&&(T=!0);var k=o.params.pushStateRoot||"",E=t.reload?"replaceState":"pushState";T&&(x||b?x&&m?history[E]({content:m,url:h,viewIndex:o.views.indexOf(e)},"",k+o.params.pushStateSeparator+h):b&&history[E]({pageName:b,url:h,viewIndex:o.views.indexOf(e)},"",k+o.params.pushStateSeparator+h):history[E]({url:h,viewIndex:o.views.indexOf(e)},"",k+o.params.pushStateSeparator+h))}if(e.url=h,t.reload){var O=e.history[e.history.length-(t.reloadPrevious?2:1)];O&&0===O.indexOf("#")&&O in e.contentCache&&O!==h&&(e.contentCache[O]=null,delete e.contentCache[O]),e.history[e.history.length-(t.reloadPrevious?2:1)]=h}else e.history.push(h);var N=!1;if(e.params.uniqueHistory){var I=e.history,M=h;if(e.params.uniqueHistoryIgnoreGetParameters)for(I=[],M=h.split("?")[0],l=0;l<e.history.length;l++)I.push(e.history[l].split("?")[0]);I.indexOf(M)!==I.lastIndexOf(M)&&(e.history=e.history.slice(0,I.indexOf(M)),e.history.push(h),N=!0)}if(t.reloadPrevious?(r=r.prev(".page"),n.insertBefore(r),u&&(c=c.prev(".navbar-inner"),d.insertAfter(c))):(w.append(n[0]),u&&p.append(d[0])),t.reload&&(e.params.domCache&&e.initialPages.indexOf(r[0])>=0?(r.addClass("cached"),u&&c.addClass("cached")):(o.pageRemoveCallback(e,r[0],f),r.remove(),u&&c.remove())),o.pageInitCallback(e,{pageContainer:n[0],url:h,position:t.reload?f:"right",navbarInnerContainer:u?d[0]:void 0,context:g.context}),u&&o.navbarInitCallback(e,n[0],p[0],d[0],h,t.reload?f:"right"),t.reload)return e.allowPageChange=!0,void(N&&e.refreshPreviousPage());u&&C&&o.router.prepareNavbar(d,c,"right");n[0].clientLeft;o.pageAnimCallbacks("before",e,{pageContainer:n[0],url:h,position:"right",oldPage:r,newPage:n,context:g.context}),C?(o.router.animatePages(r,n,"to-left",e),u&&setTimeout(function(){o.router.animateNavbars(c,d,"to-left",e)},0),n.animationEnd(function(){a()})):a()},o.router.load=function(e,t){function a(a){o.router.preprocess(a,n,function(a){t.content=a,o.router._load(e,t)})}t=t||{};var n=t.url,r=t.content,i=t.pageName,s=t.template;return e.params.reloadPages===!0&&(t.reload=!0),e.allowPageChange&&(!n||e.url!==n||t.reload||e.params.allowDuplicateUrls)?(e.allowPageChange=!1,o.xhr&&e.xhr&&e.xhr===o.xhr&&(o.xhr.abort(),o.xhr=!1),r||i?void a(r):s?void o.router._load(e,t):t.url&&"#"!==t.url?void o.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)}):void(e.allowPageChange=!0)):!1},o.router._back=function(e,t){function a(){o.pageBackCallbacks("after",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:c,context:v.context}),o.pageAnimCallbacks("after",e,{pageContainer:c[0],url:m,position:"left",oldPage:l,newPage:c,context:v.context}),o.router.afterBack(e,l[0],c[0])}function n(){o.pageBackCallbacks("before",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:c,context:v.context}),o.pageAnimCallbacks("before",e,{pageContainer:c[0],url:m,position:"left",oldPage:l,newPage:c,context:v.context}),y?(o.router.animatePages(c,l,"to-right",e),h&&setTimeout(function(){o.router.animateNavbars(p,d,"to-right",e)},0),c.animationEnd(function(){a()})):(p.find(".sliding, .sliding .back .icon").transform(""),a())}function r(){if(o.router.temporaryDom.innerHTML="",m||"string"==typeof g)o.router.temporaryDom.innerHTML=v.content;else if("length"in g&&g.length>1)for(var t=0;t<g.length;t++)s(o.router.temporaryDom).append(g[t]);else s(o.router.temporaryDom).append(g);c=o.router.findElement(".page",o.router.temporaryDom,e),e.params.dynamicNavbar&&(p=o.router.findElement(".navbar-inner",o.router.temporaryDom,e))}function i(){if(!c||0===c.length)return void(e.allowPageChange=!0);if(e.params.dynamicNavbar&&"undefined"==typeof h&&(h=p&&0!==p.length?!0:!1),c.addClass("page-on-left").removeClass("cached"),h&&(u=S.find(".navbar"),f=S.find(".navbar-inner:not(.cached)"),p.addClass("navbar-on-left").removeClass("cached")),x){var t,a;t=s(k[k.length-2]),h&&(a=s(t[0]&&t[0].f7RelatedNavbar||f[f.length-2])),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?(t.length&&t[0]!==c[0]&&t.addClass("cached"),h&&a.length&&a[0]!==p[0]&&a.addClass("cached")):(t.length&&t.remove(),h&&a.length&&a.remove()),k=P.children(".page:not(.cached)"),h&&(f=S.find(".navbar-inner:not(.cached)")),e.history.indexOf(m)>=0?e.history=e.history.slice(0,e.history.indexOf(m)+2):e.history[[e.history.length-2]]?e.history[e.history.length-2]=m:e.history.unshift(m)}if(l=s(k[k.length-1]),e.params.domCache&&l[0]===c[0]&&(l=P.children(".page.page-on-center"),0===l.length&&e.activePage&&(l=s(e.activePage.container))),h&&!d&&(d=s(f[f.length-1]),e.params.domCache&&(d[0]===p[0]&&(d=u.children(".navbar-inner.navbar-on-center:not(.cached)")),0===d.length&&(d=u.children('.navbar-inner[data-page="'+l.attr("data-page")+'"]'))),(0===d.length||p[0]===d[0])&&(h=!1)),h&&(E&&p.insertBefore(d),p[0].f7RelatedPage=c[0],c[0].f7RelatedNavbar=p[0]),E&&c.insertBefore(l),o.pageInitCallback(e,{pageContainer:c[0],url:m,position:"left",navbarInnerContainer:h?p[0]:void 0,context:v.context}),h&&o.navbarInitCallback(e,c[0],u[0],p[0],m,"right"),h&&p.hasClass("navbar-on-left")&&y&&o.router.prepareNavbar(p,d,"left"),w)return void(e.allowPageChange=!0);e.url=m;c[0].clientLeft;n()}t=t||{};var l,c,d,p,u,f,h,m=t.url,g=t.content,v={content:t.content},b=t.template,y=t.animatePages,w=t.preloadOnly,C=t.pushState,x=(t.ignoreCache,t.force),T=t.pageName,S=s(e.container),P=s(e.pagesContainer),k=P.children(".page:not(.cached)"),E=!0;return"undefined"==typeof y&&(y=e.params.animatePages),o.pluginHook("routerBack",e,t),(o.params.template7Pages&&"string"==typeof g||b)&&(v=o.router.template7Render(e,t),v.content&&!g&&(g=v.content)),o.params.pushState&&("undefined"==typeof C&&(C=!0),!w&&history.state&&C&&history.back()),k.length>1&&!x?w?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],m=e.url,c=s(k[k.length-2]),l=s(k[k.length-1]),e.params.dynamicNavbar&&(h=!0,f=S.find(".navbar-inner:not(.cached)"),p=s(f[0]),d=s(f[1]),(0===p.length||0===d.length||d[0]===p[0])&&(h=!1)),E=!1,void i()):x?m&&m===e.url||T&&e.activePage&&e.activePage.name===T?void(e.allowPageChange=!0):g?(r(),void i()):T&&e.params.domCache?(T&&(m="#"+T),c=s(S).find('.page[data-page="'+T+'"]'),c[0].f7PageData&&c[0].f7PageData.url&&(m=c[0].f7PageData.url),e.params.dynamicNavbar&&(p=s(S).find('.navbar-inner[data-page="'+T+'"]'),0===p.length&&(p=s(c[0].f7RelatedNavbar))),void i()):void(e.allowPageChange=!0):(w||(e.url=e.history[e.history.length-2],m=e.url),g?(r(),void i()):T?(c=s(S).find('.page[data-page="'+T+'"]'),e.params.dynamicNavbar&&(p=s(S).find('.navbar-inner[data-page="'+T+'"]')),void i()):void(e.allowPageChange=!0))},o.router.back=function(e,t){function a(a){o.router.preprocess(a,n,function(a){t.content=a,o.router._back(e,t)})}t=t||{};var n=t.url,r=t.content,i=t.pageName,l=t.force;if(!e.allowPageChange)return!1;e.allowPageChange=!1,o.xhr&&e.xhr&&e.xhr===o.xhr&&(o.xhr.abort(),o.xhr=!1);var c=s(e.pagesContainer).find(".page:not(.cached)");if(c.length>1&&!l)return void o.router._back(e,t);if(l){if(!n&&r)return void a(r);if(!n&&i)return i&&(n="#"+i),void a();if(n)return void o.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)})}else{if(n=t.url=e.history[e.history.length-2],!n)return void(e.allowPageChange=!0);if(0===n.indexOf("#")&&e.contentCache[n])return void a(e.contentCache[n]);if(0===n.indexOf("#")&&e.params.domCache)return i||(t.pageName=n.split("#")[1]),void a();if(0!==n.indexOf("#"))return void o.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)})}e.allowPageChange=!0},o.router.afterBack=function(e,t,a){t=s(t),a=s(a),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?t.removeClass("page-from-center-to-right").addClass("cached"):(t.remove(),o.pageRemoveCallback(e,t[0],"right")),a.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var n,r=e.history.pop();if(e.params.dynamicNavbar){var i=s(e.container).find(".navbar-inner:not(.cached)"),l=s(t[0].f7RelatedNavbar||i[1]);e.params.domCache&&e.initialNavbars.indexOf(l[0])>=0?l.removeClass("navbar-from-center-to-right").addClass("cached"):l.remove(),n=s(i[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&s(e.container).find(".page.cached").each(function(){var t=s(this),a=(t.index(),t[0].f7PageData&&t[0].f7PageData.url);a&&e.history.indexOf(a)<0&&e.initialPages.indexOf(this)<0&&(t[0].f7RelatedNavbar&&s(t[0].f7RelatedNavbar).remove(),t.remove())}),!e.params.domCache&&r&&r.indexOf("#")>-1&&r in e.contentCache&&(e.contentCache[r]=null,delete e.contentCache[r]),o.params.pushState&&o.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var c,d,p=e.history[e.history.length-2];p&&e.pagesCache[p]?(c=s(e.container).find('.page[data-page="'+e.pagesCache[p]+'"]'),c.insertBefore(a),n&&(d=s(e.container).find('.navbar-inner[data-page="'+e.pagesCache[p]+'"]'),d.insertBefore(n),d&&0!==d.length||(d=n.prev(".navbar-inner.cached")))):(c=a.prev(".page.cached"),n&&(d=n.prev(".navbar-inner.cached"))),c&&c.length>0&&c.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),d&&d.length>0&&d.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else o.router.back(e,{preloadOnly:!0})};var u=document.createElement("div");o.modal=function(e){e=e||{};var t="";if(o.params.modalTemplate)o._compiledTemplates.modal||(o._compiledTemplates.modal=l.compile(o.params.modalTemplate)),t=o._compiledTemplates.modal(e);else{var a="";if(e.buttons&&e.buttons.length>0)for(var n=0;n<e.buttons.length;n++)a+='<span class="modal-button'+(e.buttons[n].bold?" modal-button-bold":"")+'">'+e.buttons[n].text+"</span>";var r=e.title?'<div class="modal-title">'+e.title+"</div>":"",i=e.text?'<div class="modal-text">'+e.text+"</div>":"",c=e.afterText?e.afterText:"",d=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",p=e.verticalButtons?"modal-buttons-vertical":"";
t='<div class="modal '+d+'"><div class="modal-inner">'+(r+i+c)+'</div><div class="modal-buttons '+p+'">'+a+"</div></div>"}u.innerHTML=t;var f=s(u).children();return s("body").append(f[0]),f.find(".modal-button").each(function(t,a){s(a).on("click",function(a){e.buttons[t].close!==!1&&o.closeModal(f),e.buttons[t].onClick&&e.buttons[t].onClick(f,a),e.onClick&&e.onClick(f,t)})}),o.openModal(f),f[0]},o.alert=function(e,t,a){return"function"==typeof t&&(a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,buttons:[{text:o.params.modalButtonOk,bold:!0,onClick:a}]})},o.confirm=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,buttons:[{text:o.params.modalButtonCancel,onClick:n},{text:o.params.modalButtonOk,bold:!0,onClick:a}]})},o.prompt=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&n&&n(s(e).find(".modal-text-input").val()),1===t&&a&&a(s(e).find(".modal-text-input").val())}})},o.modalLogin=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<input type="text" name="modal-username" placeholder="'+o.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+o.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){var r=s(e).find('.modal-text-input[name="modal-username"]').val(),o=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(r,o),1===t&&a&&a(r,o)}})},o.modalPassword=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<input type="password" name="modal-password" placeholder="'+o.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){var r=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(r),1===t&&a&&a(r)}})},o.showPreloader=function(e){return o.modal({title:e||o.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},o.hidePreloader=function(){o.closeModal(".modal.modal-in")},o.showIndicator=function(){s("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},o.hideIndicator=function(){s(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},o.actions=function(e,t){var a,n,r,i=!1;1===arguments.length?t=e:o.device.ios?o.device.ipad&&(i=!0):s(window).width()>=768&&(i=!0),t=t||[],t.length>0&&!s.isArray(t[0])&&(t=[t]);var c;if(i){var d='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';o._compiledTemplates.actionsPopover||(o._compiledTemplates.actionsPopover=l.compile(d));var p=o._compiledTemplates.actionsPopover(t);a=s(o.popover(p,e,!0)),n=".list-block ul",r=".list-button"}else{if(o.params.modalActionsTemplate)o._compiledTemplates.actions||(o._compiledTemplates.actions=l.compile(o.params.modalActionsTemplate)),c=o._compiledTemplates.actions(t);else{for(var f="",h=0;h<t.length;h++)for(var m=0;m<t[h].length;m++){0===m&&(f+='<div class="actions-modal-group">');var g=t[h][m],v=g.label?"actions-modal-label":"actions-modal-button";g.bold&&(v+=" actions-modal-button-bold"),g.color&&(v+=" color-"+g.color),g.bg&&(v+=" bg-"+g.bg),f+='<span class="'+v+'">'+g.text+"</span>",m===t[h].length-1&&(f+="</div>")}c='<div class="actions-modal">'+f+"</div>"}u.innerHTML=c,a=s(u).children(),s("body").append(a[0]),n=".actions-modal-group",r=".actions-modal-button"}var b=a.find(n);return b.each(function(e,n){var l=e;s(n).children().each(function(e,n){var c,d=e,p=t[l][d];!i&&s(n).is(r)&&(c=s(n)),i&&s(n).find(r).length>0&&(c=s(n).find(r)),c&&c.on("click",function(e){p.close!==!1&&o.closeModal(a),p.onClick&&p.onClick(a,e)})})}),i||o.openModal(a),a[0]},o.popover=function(e,t,a){function n(){e.css({left:"",top:""});var a,n,r=e.width(),o=e.height(),i=e.find(".popover-angle"),l=i.width()/2;i.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var c=t.outerWidth(),d=t.outerHeight(),p=t.offset(),u=t.parents(".page");u.length>0&&(p.top=p.top-u[0].scrollTop);var f=s(window).height(),h=s(window).width(),m=0,g=0,v=0,b="top";o+l<p.top?m=p.top-o-l:o+l<f-p.top-d?(b="bottom",m=p.top+d+l):(b="middle",m=d/2+p.top-o/2,v=m,0>m?m=5:m+o>f&&(m=f-o-5),v-=m),"top"===b||"bottom"===b?(g=c/2+p.left-r/2,v=g,5>g&&(g=5),g+r>h&&(g=h-r-5),"top"===b&&i.addClass("on-bottom"),"bottom"===b&&i.addClass("on-top"),v-=g,a=r/2-l+v,a=Math.max(Math.min(a,r-2*l-6),6),i.css({left:a+"px"})):"middle"===b&&(g=p.left-r-l,i.addClass("on-right"),5>g&&(g=p.left+c+l,i.removeClass("on-right").addClass("on-left")),g+r>h&&(g=h-r-5,i.removeClass("on-right").addClass("on-left")),n=o/2-l+v,n=Math.max(Math.min(n,o-2*l-6),6),i.css({top:n+"px"})),e.css({top:m+"px",left:g+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var r=document.createElement("div");if(r.innerHTML=e.trim(),!(r.childNodes.length>0))return!1;e=r.childNodes[0],a&&e.classList.add("remove-on-close"),s("body").append(e)}return e=s(e),t=s(t),0===e.length||0===t.length?!1:(0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),n(),s(window).on("resize",n),e.on("close",function(){s(window).off("resize",n)}),e.find("."+o.params.viewClass).length>0&&o.sizeNavbars(e.find("."+o.params.viewClass)[0]),o.openModal(e),e[0])},o.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=e.trim(),!(a.childNodes.length>0))return!1;e=a.childNodes[0],t&&e.classList.add("remove-on-close"),s("body").append(e)}return e=s(e),0===e.length?!1:(e.show(),e.find("."+o.params.viewClass).length>0&&o.sizeNavbars(e.find("."+o.params.viewClass)[0]),o.openModal(e),e[0])},o.loginScreen=function(e){return e||(e=".login-screen"),e=s(e),0===e.length?!1:(e.show(),e.find("."+o.params.viewClass).length>0&&o.sizeNavbars(e.find("."+o.params.viewClass)[0]),o.openModal(e),e[0])},o.openModal=function(e){e=s(e);var t=e.hasClass("popover"),a=e.hasClass("popup"),n=e.hasClass("login-screen");t||a||n||e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"});var r;n||(0!==s(".modal-overlay").length||a||s("body").append('<div class="modal-overlay"></div>'),0===s(".popup-overlay").length&&a&&s("body").append('<div class="popup-overlay"></div>'),r=s(a?".popup-overlay":".modal-overlay"));e[0].clientLeft;return e.trigger("open"),n||r.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){e.trigger(e.hasClass("modal-out")?"closed":"opened")}),!0},o.closeModal=function(e){if(e=s(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("popover"),a=e.hasClass("popup"),n=e.hasClass("login-screen"),r=e.hasClass("remove-on-close"),o=s(a?".popup-overlay":".modal-overlay");return a?e.length===s(".popup.modal-in").length&&o.removeClass("modal-overlay-visible"):o.removeClass("modal-overlay-visible"),e.trigger("close"),t?(e.removeClass("modal-in modal-out").trigger("closed").hide(),r&&e.remove()):e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){e.trigger(e.hasClass("modal-out")?"closed":"opened"),a||n?(e.removeClass("modal-out").hide(),r&&e.length>0&&e.remove()):e.remove()}),!0}},o.allowPanelOpen=!0,o.openPanel=function(e){function t(){r.transitionEnd(function(e){s(e.target).is(r)?(a.trigger(a.hasClass("active")?"opened":"closed"),o.allowPanelOpen=!0):t()})}if(!o.allowPanelOpen)return!1;var a=s(".panel-"+e);if(0===a.length||a.hasClass("active"))return!1;o.closePanel(),o.allowPanelOpen=!1;var n=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open"),a.find("."+o.params.viewClass).length>0&&o.sizeNavbars&&o.sizeNavbars(a.find("."+o.params.viewClass)[0]);var r=(a[0].clientLeft,"reveal"===n?s("."+o.params.viewsClass):a);return t(),s("body").addClass("with-panel-"+e+"-"+n),!0},o.closePanel=function(){var e=s(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",a=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var n="reveal"===t?s("."+o.params.viewsClass):e;e.trigger("close"),o.allowPanelOpen=!1,n.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),s("body").removeClass("panel-closing"),o.allowPanelOpen=!0)}),s("body").addClass("panel-closing").removeClass("with-panel-"+a+"-"+t)},o.initSwipePanels=function(){function e(e){if(o.allowPanelOpen&&(o.params.swipePanel||o.params.swipePanelOnlyClose)&&!i&&!(s(".modal-in, .photo-browser-in").length>0||!o.params.swipePanelCloseOpposite&&!o.params.swipePanelOnlyClose&&s(".panel.active").length>0&&!n.hasClass("active"))){if(b.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,b.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,(o.params.swipePanelCloseOpposite||o.params.swipePanelOnlyClose)&&(r=s(".panel.active").length>0?s(".panel.active").hasClass("panel-left")?"left":"right":o.params.swipePanel),n=s(".panel.panel-"+r),f=n.hasClass("active"),o.params.swipePanelActiveArea&&!f){if("left"===r&&b.x>o.params.swipePanelActiveArea)return;if("right"===r&&b.x<window.innerWidth-o.params.swipePanelActiveArea)return}l=!1,i=!0,c=void 0,d=(new Date).getTime(),g=void 0}}function t(e){if(i&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof c&&(c=!!(c||Math.abs(a-b.y)>Math.abs(t-b.x))),c)return void(i=!1);if(!g&&(g=t>b.x?"to-right":"to-left","left"===r&&"to-left"===g&&!n.hasClass("active")||"right"===r&&"to-right"===g&&!n.hasClass("active")))return void(i=!1);if(o.params.swipePanelNoFollow){var s=(new Date).getTime()-d;return 300>s&&("to-left"===g&&("right"===r&&o.openPanel(r),"left"===r&&n.hasClass("active")&&o.closePanel()),"to-right"===g&&("left"===r&&o.openPanel(r),"right"===r&&n.hasClass("active")&&o.closePanel())),i=!1,void(l=!1)}l||(m=n.hasClass("panel-cover")?"cover":"reveal",f||(n.show(),v.show()),h=n[0].offsetWidth,n.transition(0),n.find("."+o.params.viewClass).length>0&&o.sizeNavbars&&o.sizeNavbars(n.find("."+o.params.viewClass)[0])),l=!0,e.preventDefault();var w=f?0:-o.params.swipePanelThreshold;"right"===r&&(w=-w),p=t-b.x+w,"right"===r?(u=p-(f?h:0),u>0&&(u=0),-h>u&&(u=-h)):(u=p+(f?h:0),0>u&&(u=0),u>h&&(u=h)),"reveal"===m?(y.transform("translate3d("+u+"px,0,0)").transition(0),v.transform("translate3d("+u+"px,0,0)"),o.pluginHook("swipePanelSetTransform",y[0],n[0],Math.abs(u/h))):(n.transform("translate3d("+u+"px,0,0)").transition(0),o.pluginHook("swipePanelSetTransform",y[0],n[0],Math.abs(u/h)))}}function a(){if(!i||!l)return i=!1,void(l=!1);i=!1,l=!1;var e,t=(new Date).getTime()-d,a=0===u||Math.abs(u)===h;if(e=f?u===-h?"reset":300>t&&Math.abs(u)>=0||t>=300&&Math.abs(u)<=h/2?"left"===r&&u===h?"reset":"swap":"reset":0===u?"reset":300>t&&Math.abs(u)>0||t>=300&&Math.abs(u)>=h/2?"swap":"reset","swap"===e&&(o.allowPanelOpen=!0,f?(o.closePanel(),a&&(n.css({display:""}),s("body").removeClass("panel-closing"))):o.openPanel(r),a&&(o.allowPanelOpen=!0)),"reset"===e)if(f)o.allowPanelOpen=!0,o.openPanel(r);else if(o.closePanel(),a)o.allowPanelOpen=!0,n.css({display:""});else{var c="reveal"===m?y:n;s("body").addClass("panel-closing"),c.transitionEnd(function(){o.allowPanelOpen=!0,n.css({display:""}),s("body").removeClass("panel-closing")})}"reveal"===m&&(y.transition(""),y.transform("")),n.transition("").transform(""),v.css({display:""}).transform("")}var n,r;if(o.params.swipePanel){if(n=s(".panel.panel-"+o.params.swipePanel),r=o.params.swipePanel,0===n.length)return}else{if(!o.params.swipePanelOnlyClose)return;if(0===s(".panel").length)return}var i,l,c,d,p,u,f,h,m,g,v=s(".panel-overlay"),b={},y=s("."+o.params.viewsClass);s(document).on(o.touchEvents.start,e),s(document).on(o.touchEvents.move,t),s(document).on(o.touchEvents.end,a)},o.initMessages=function(e){var t=s(e),a=t.find(".messages");if(0!==a.length){var n=t.find(".page-content");a.hasClass("messages-auto-layout")&&o.updateMessagesLayout(a),a.hasClass("new-messages-first")||(n[0].scrollTop=n[0].scrollHeight-n[0].offsetHeight)}},o.addMessage=function(e){if(e=e||{},e.type=e.type||"sent",!e.text||0===e.length)return!1;var t=s(".messages-content");if(0===t.length)return!1;var a=t.find(".messages"),n=a.hasClass("new-messages-first"),r="";e.day&&(r+='<div class="messages-date">'+e.day+(e.time?",":"")+(e.time?" <span>"+e.time+"</span>":"")+"</div>");var i=e.text.indexOf("<img")>=0?"message-pic":"",l=e.avatar?"message-with-avatar":"",c="message message-"+e.type+" "+i+" "+l+" message-appear";r+='<div class="'+c+'">'+(e.name?'<div class="message-name">'+e.name+"</div>":"")+'<div class="message-text">'+e.text+"</div>"+(e.avatar?'<div class="message-avatar" style="background-image:url('+e.avatar+')"></div>':"")+(e.label?'<div class="message-label">'+e.label+"</div>":"")+"</div>",n?a.prepend(r):a.append(r),a.hasClass("messages-auto-layout")&&o.updateMessagesLayout(a),o.scrollMessagesContainer(t)},o.updateMessagesLayout=function(e){e.find(".message").each(function(){var e=s(this);e.find(".message-text img").length>0&&e.addClass("message-pic"),e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),e.find(".message-sent").each(function(){var e=s(this),t=e.next(".message-sent"),a=e.prev(".message-sent");0===t.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===a.length?e.addClass("message-first"):e.removeClass("message-first"),a.length>0&&a.find(".message-name").length>0&&e.find(".message-name").length>0&&a.find(".message-name").text()!==e.find(".message-name").text()&&(a.addClass("message-last message-with-tail"),e.addClass("message-first"))}),e.find(".message-received").each(function(){var e=s(this),t=e.next(".message-received"),a=e.prev(".message-received");0===t.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===a.length?e.addClass("message-first"):e.removeClass("message-first"),a.length>0&&a.find(".message-name").length>0&&e.find(".message-name").length>0&&a.find(".message-name").text()!==e.find(".message-name").text()&&(a.addClass("message-last message-with-tail"),e.addClass("message-first"))})},o.scrollMessagesContainer=function(e){if(e=s(e||".messages-content"),0!==e.length){var t=e.find(".messages"),a=t.hasClass("new-messages-first"),n=e[0].scrollTop,r=a?0:e[0].scrollHeight-e[0].offsetHeight;r!==n&&e.scrollTop(r,300)}},o.swipeoutOpenedEl=void 0,o.allowSwipeout=!0,o.initSwipeout=function(e){function t(e){o.allowSwipeout&&(i=!1,r=!0,l=void 0,N.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,N.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=(new Date).getTime())}function a(e){if(r){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(a-N.y)>Math.abs(t-N.x))),l)return void(r=!1);if(!i){if(s(".list-block.sortable-opened").length>0)return;p=s(this),u=p.find(".swipeout-content"),f=p.find(".swipeout-actions-right"),h=p.find(".swipeout-actions-left"),m=g=w=C=S=T=null,E=h.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,O=f.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,h.length>0&&(m=h.outerWidth(),w=h.children("a"),T=h.find(".swipeout-overswipe")),f.length>0&&(g=f.outerWidth(),C=f.children("a"),S=f.find(".swipeout-overswipe")),b=p.hasClass("swipeout-opened"),b&&(y=p.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),p.removeClass("transitioning"),o.params.swipeoutNoFollow||(p.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),p.removeClass("swipeout-opened"))}if(i=!0,e.preventDefault(),d=t-N.x,v=d,b&&("right"===y?v-=g:v+=m),v>0&&0===h.length||0>v&&0===f.length){if(!b)return void(r=i=!1);v=0}x=0>v?"to-left":v>0?"to-right":x?x:"to-left";var n,c,I;if(e.f7PreventPanelSwipe=!0,o.params.swipeoutNoFollow)return b?("right"===y&&d>0&&o.swipeoutClose(p),"left"===y&&0>d&&o.swipeoutClose(p)):(0>d&&f.length>0&&o.swipeoutOpen(p,"right"),d>0&&h.length>0&&o.swipeoutOpen(p,"left")),r=!1,void(i=!1);P=!1,k=!1;var M;if(f.length>0)for(I=v/g,-g>v&&(v=-g-Math.pow(-v-g,.8),S.length>0&&(k=!0)),n=0;n<C.length;n++)"undefined"==typeof C[n]._buttonOffset&&(C[n]._buttonOffset=C[n].offsetLeft),c=C[n]._buttonOffset,M=s(C[n]),S.length>0&&M.hasClass("swipeout-overswipe")&&M.css({left:(k?-c:0)+"px"}),M.transform("translate3d("+(v-c*(1+Math.max(I,-1)))+"px,0,0)");if(h.length>0)for(I=v/m,v>m&&(v=m+Math.pow(v-m,.8),T.length>0&&(P=!0)),n=0;n<w.length;n++)"undefined"==typeof w[n]._buttonOffset&&(w[n]._buttonOffset=m-w[n].offsetLeft-w[n].offsetWidth),c=w[n]._buttonOffset,M=s(w[n]),T.length>0&&M.hasClass("swipeout-overswipe")&&M.css({left:(P?c:0)+"px"}),w.length>1&&M.css("z-index",w.length-n),M.transform("translate3d("+(v+c*(1-Math.min(I,1)))+"px,0,0)");u.transform("translate3d("+v+"px,0,0)")}}function n(){if(!r||!i)return r=!1,void(i=!1);r=!1,i=!1;var e,t,a,n,l,y,T=(new Date).getTime()-c;if(y="to-left"===x?O:E,a="to-left"===x?f:h,t="to-left"===x?g:m,e=300>T&&(-10>d&&"to-left"===x||d>10&&"to-right"===x)||T>=300&&Math.abs(v)>t/2?"open":"close",300>T&&(0===Math.abs(v)&&(e="close"),Math.abs(v)===t&&(e="open")),"open"===e){o.swipeoutOpenedEl=p,p.trigger("open"),p.addClass("swipeout-opened transitioning");var S="to-left"===x?-t:t;if(u.transform("translate3d("+S+"px,0,0)"),a.addClass("swipeout-actions-opened"),n="to-left"===x?C:w)for(l=0;l<n.length;l++)s(n[l]).transform("translate3d("+S+"px,0,0)");k&&f.find(".swipeout-overswipe")[0].click(),P&&h.find(".swipeout-overswipe")[0].click()}else p.trigger("close"),o.swipeoutOpenedEl=void 0,p.addClass("transitioning").removeClass("swipeout-opened"),u.transform(""),a.removeClass("swipeout-actions-opened");var N;if(w&&w.length>0&&w!==n)for(l=0;l<w.length;l++)N=w[l]._buttonOffset,"undefined"==typeof N&&(w[l]._buttonOffset=m-w[l].offsetLeft-w[l].offsetWidth),s(w[l]).transform("translate3d("+N+"px,0,0)");if(C&&C.length>0&&C!==n)for(l=0;l<C.length;l++)N=C[l]._buttonOffset,"undefined"==typeof N&&(C[l]._buttonOffset=C[l].offsetLeft),s(C[l]).transform("translate3d("+-N+"px,0,0)");u.transitionEnd(function(){b&&"open"===e||closed&&"close"===e||(p.trigger("open"===e?"opened":"closed"),b&&"close"===e&&(f.length>0&&C.transform(""),h.length>0&&w.transform("")))})}var r,i,l,c,d,p,u,f,h,m,g,v,b,y,w,C,x,T,S,P,k,E,O,N={};s(document).on(o.touchEvents.start,function(e){if(o.swipeoutOpenedEl){var t=s(e.target);o.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(o.swipeoutOpenedEl)||t.hasClass("modal-in")||t.parents(".modal.modal-in").length>0||t.hasClass("modal-overlay")||o.swipeoutClose(o.swipeoutOpenedEl)}}),e?(s(e).on(o.touchEvents.start,t),s(e).on(o.touchEvents.move,a),s(e).on(o.touchEvents.end,n)):(s(document).on(o.touchEvents.start,".list-block li.swipeout",t),s(document).on(o.touchEvents.move,".list-block li.swipeout",a),s(document).on(o.touchEvents.end,".list-block li.swipeout",n))},o.swipeoutOpen=function(e,t){if(e=s(e),0!==e.length&&(e.length>1&&(e=s(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var a=e.find(".swipeout-actions-"+t);if(0!==a.length){{a.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold}e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),a.addClass("swipeout-actions-opened");var n,r=a.children("a"),i=a.outerWidth(),l="right"===t?-i:i;if(r.length>1){for(n=0;n<r.length;n++)"right"===t?s(r[n]).transform("translate3d("+-r[n].offsetLeft+"px,0,0)"):s(r[n]).css("z-index",r.length-n).transform("translate3d("+(i-r[n].offsetWidth-r[n].offsetLeft)+"px,0,0)");{r[1].clientLeft}}for(e.addClass("transitioning"),n=0;n<r.length;n++)s(r[n]).transform("translate3d("+l+"px,0,0)");e.find(".swipeout-content").transform("translate3d("+l+"px,0,0)").transitionEnd(function(){e.trigger("opened")}),o.swipeoutOpenedEl=e}}},o.swipeoutClose=function(e){if(e=s(e),0!==e.length&&e.hasClass("swipeout-opened")){var t=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",a=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),n=(a.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,a.children("a")),r=a.outerWidth();o.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning"),e.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){e.trigger("closed"),n.transform(""),o.allowSwipeout=!0});for(var i=0;i<n.length;i++)s(n[i]).transform("right"===t?"translate3d("+-n[i].offsetLeft+"px,0,0)":"translate3d("+(r-n[i].offsetWidth-n[i].offsetLeft)+"px,0,0)"),s(n[i]).css({left:"0px"});o.swipeoutOpenedEl&&o.swipeoutOpenedEl[0]===e[0]&&(o.swipeoutOpenedEl=void 0)}},o.swipeoutDelete=function(e){if(e=s(e),0!==e.length){e.length>1&&(e=s(e[0])),o.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});{e[0].clientLeft}e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(e.trigger("deleted"),e.parents(".virtual-list").length>0){var t=e.parents(".virtual-list")[0].f7VirtualList,a=e[0].f7VirtualListIndex;t&&"undefined"!=typeof a&&t.deleteItem(a)}else e.remove()});var t="-100%";e.find(".swipeout-content").transform("translate3d("+t+",0,0)")}},o.sortableToggle=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.toggleClass("sortable-opened"),e.trigger(e.hasClass("sortable-opened")?"open":"close"),e},o.sortableOpen=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},o.sortableClose=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},o.initSortable=function(){function e(e){r=!1,n=!0,i="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=s(this).parent(),p=c.parent().find("li"),g=c.parents(".sortable"),e.preventDefault(),o.allowPanelOpen=o.allowSwipeout=!1}function t(e){if(n&&c){var t=("touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);r||(c.addClass("sorting"),g.addClass("sortable-sorting"),u=c[0].offsetTop,f=c.parent().height()-c[0].offsetTop-c.height(),d=c[0].offsetHeight),r=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,l=t-i;var a=l;-u>a&&(a=-u),a>f&&(a=f),c.transform("translate3d(0,"+a+"px,0)"),m=h=void 0,p.each(function(){var e=s(this);if(e[0]!==c[0]){var t=e[0].offsetTop,n=e.height(),r=c[0].offsetTop+a;r>=t-n/2&&c.index()<e.index()?(e.transform("translate3d(0, "+-d+"px,0)"),h=e,m=void 0):t+n/2>=r&&c.index()>e.index()?(e.transform("translate3d(0, "+d+"px,0)"),h=void 0,m||(m=e)):s(this).transform("translate3d(0, 0%,0)")}})}}function a(e){if(o.allowPanelOpen=o.allowSwipeout=!0,!n||!r)return n=!1,void(r=!1);e.preventDefault(),p.transform(""),c.removeClass("sorting"),g.removeClass("sortable-sorting");var t,a,i;h&&(c.insertAfter(h),c.trigger("sort")),m&&(c.insertBefore(m),c.trigger("sort")),(h||m)&&g.hasClass("virtual-list")&&(t=g[0].f7VirtualList,a=c[0].f7VirtualListIndex,i=m?m[0].f7VirtualListIndex:h[0].f7VirtualListIndex,t&&t.moveItem(a,i)),h=m=void 0,n=!1,r=!1}var n,r,i,l,c,d,p,u,f,h,m,g;s(document).on(o.touchEvents.start,".list-block.sortable .sortable-handler",e),o.support.touch?(s(document).on(o.touchEvents.move,".list-block.sortable .sortable-handler",t),s(document).on(o.touchEvents.end,".list-block.sortable .sortable-handler",a)):(s(document).on(o.touchEvents.move,t),s(document).on(o.touchEvents.end,a))},o.initSmartSelects=function(e){var t=s(e);if(0!==t.length){var a=t.find(".smart-select");0!==a.length&&a.each(function(){var e=s(this),t=e.find("select");if(0!==t.length){var a=t[0];if(0!==a.length){for(var n=[],r=0;r<a.length;r++)a[r].selected&&n.push(a[r].textContent.trim());var o=e.find(".item-after");0===o.length?e.find(".item-inner").append('<div class="item-after">'+n.join(", ")+"</div>"):o.text(n)}}})}},o.smartSelectOpen=function(e){function t(t){if(h){var a=o.virtualList(s(t).find(".virtual-list"),{items:k,template:M,height:m||void 0,searchByItem:function(e,t,a){return a.text.toLowerCase().indexOf(e.trim())>=0?!0:!1}});s(t).once("popup"===r?"closed":"pageBeforeRemove",function(){a&&a.destroy&&a.destroy()})}s(t).on("change",'input[name="'+N+'"]',function(){var t=this,a=t.value,i=[];if("checkbox"===t.type)for(var s=0;s<g.options.length;s++){var l=g.options[s];l.value===a&&(l.selected=t.checked),l.selected&&i.push(l.textContent.trim())}else i=[e.find('option[value="'+a+'"]').text()],g.value=a;v.trigger("change"),e.find(".item-after").text(i.join(", ")),p&&"radio"===O&&("popup"===r?o.closeModal(V):n.router.back())})}function a(e){var n=e.detail.page;n.name===j&&(s(document).off("pageInit",a),t(n.container))}if(e=s(e),0!==e.length){var n=e.parents("."+o.params.viewClass);if(0!==n.length&&(n=n[0].f7View)){var r=e.attr("data-open-in");r||(r=o.params.smartSelectInPopup?"popup":"page");var i=e.attr("data-page-title")||e.find(".item-title").text(),c=e.attr("data-back-text")||o.params.smartSelectBackText,d=e.attr("data-popup-close-text")||e.attr("data-back-text")||o.params.smartSelectPopupCloseText,p=e.attr("data-back-onselect")?"true"===e.attr("data-back-onselect")?!0:!1:o.params.smartSelectBackOnSelect,u=e.attr("data-form-theme")||o.params.smartSelectFormTheme,f=e.attr("data-navbar-theme")||o.params.smartSelectNavbarTheme,h="true"===e.attr("data-virtual-list"),m=e.attr("data-virtual-list-height"),g=e.find("select")[0],v=s(g);if(!(g.disabled||e.hasClass("disabled")||v.hasClass("disabled"))){for(var b,y,w,C,x,T,S,P,k=[],E=(new Date).getTime(),O=g.multiple?"checkbox":"radio",N=O+"-"+E,I=0;I<g.length;I++)b=s(g[I]),b[0].disabled||(w=b.attr("data-option-image")||v.attr("data-option-image"),C=b.attr("data-option-icon")||v.attr("data-option-icon"),y=w||C||"checkbox"===O,x=b.parent("optgroup")[0],T=x&&x.label,S=!1,x&&x!==P&&(S=!0,P=x),k.push({value:b[0].value,text:b[0].textContent.trim(),selected:b[0].selected,group:x,groupLabel:T,showGroupLabel:S,image:w,icon:C,disabled:b[0].disabled,inputType:O,id:E,hasMedia:y,checkbox:"checkbox"===O,inputName:N,test:this}));o._compiledTemplates.smartSelectItem||(o._compiledTemplates.smartSelectItem=l.compile(o.params.smartSelectItemTemplate||'{{#if showGroupLabel}}<li class="item-divider">{{groupLabel}}</li>{{/if}}<li><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'));var M=o._compiledTemplates.smartSelectItem,A="";if(!h)for(var D=0;D<k.length;D++)A+=M(k[D]);o._compiledTemplates.smartSelectNavbar||(o._compiledTemplates.smartSelectNavbar=l.compile(o.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>'));var L,B=o._compiledTemplates.smartSelectNavbar({pageTitle:i,backText:c,closeText:d,openIn:r,navbarTheme:f,inPopup:"popup"===r,inPage:"page"===r,leftTemplate:"popup"===r?o.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,d):o.params.smartSelectBackTemplate.replace(/{{backText}}/g,c)}),_="",R="";"page"===r?(L="static",e.parents(".navbar-through").length>0&&(L="through"),e.parents(".navbar-fixed").length>0&&(L="fixed"),R=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",_=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+L):L="fixed";var H,F,j="smart-select-"+N,z="undefined"==typeof e.data("searchbar")?o.params.smartSelectSearchbar:"true"===e.data("searchbar")?!0:!1;z&&(H=e.data("searchbar-placeholder")||"Search",F=e.data("searchbar-cancel")||"Cancel");var V,q='<form class="searchbar" data-search-list=".smart-select-list-'+E+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+H+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+F+'</a></form><div class="searchbar-overlay"></div>',U=("through"===L?B:"")+'<div class="pages">  <div data-page="'+j+'" class="page smart-select-page '+_+" "+R+'">'+("fixed"===L?B:"")+(z?q:"")+'    <div class="page-content">'+("static"===L?B:"")+'      <div class="list-block '+(h?"virtual-list":"")+" smart-select-list-"+E+" "+(u?"theme-"+u:"")+'">        <ul>'+(h?"":A)+"        </ul>      </div>    </div>  </div></div>";"popup"===r?(V=o.popup('<div class="popup smart-select-popup smart-select-popup-'+N+'"><div class="view navbar-fixed">'+U+"</div></div>"),o.initPage(s(V).find(".page")),t(V)):(s(document).on("pageInit",a),n.router.load({content:U}))}}}};var f=function(e,t){var a={cols:1,height:44,cache:!0};t=t||{};for(var n in a)"undefined"==typeof t[n]&&(t[n]=a[n]);var r=this;r.listBlock=s(e),r.params=t,r.items=t.items,t.template&&("string"==typeof t.template?r.template=l.compile(t.template):"function"==typeof t.template&&(r.template=t.template)),r.pageContent=r.listBlock.parents(".page-content");var i;"undefined"!=typeof r.params.updatableScroll?i=r.params.updatableScroll:(i=!0,o.device.ios&&o.device.osVersion.split(".")[0]<8&&(i=!1)),r.ul=r.params.ul?s(r.params.ul):r.listBlock.children("ul"),0===r.ul.length&&(r.listBlock.append("<ul></ul>"),r.ul=r.listBlock.children("ul")),r.domCache={},r.displayDomCache={},r.tempDomElement=document.createElement("ul"),r.lastRepaintY=null,r.fragment=document.createDocumentFragment(),r.filterItems=function(e,t){r.filteredItems=[];for(var a=(e[0],e[e.length-1],0);a<e.length;a++)r.filteredItems.push(r.items[e[a]]);"undefined"==typeof t&&(t=!0),t&&(r.pageContent[0].scrollTop=0),r.update()},r.resetFilter=function(){r.filteredItems=null,delete r.filteredItems,r.update()};var c,d,p,u,f,h,m=0,g="function"==typeof r.params.height;return r.setListSize=function(){var e=r.filteredItems||r.items;if(c=r.pageContent[0].offsetHeight,g){h=0,r.heights=[];for(var t=0;t<e.length;t++){var a=r.params.height(e[t]);h+=a,r.heights.push(a)}}else h=e.length*r.params.height/r.params.cols,d=Math.ceil(c/r.params.height),p=r.params.rowsBefore||2*d,u=r.params.rowsAfter||d,f=d+p+u,m=p/2*r.params.height;i&&r.ul.css({height:h+"px"})},r.render=function(e){e&&(r.lastRepaintY=null);var t=-(r.listBlock[0].getBoundingClientRect().top+r.pageContent[0].getBoundingClientRect().top);if(null===r.lastRepaintY||Math.abs(t-r.lastRepaintY)>m||!i&&r.pageContent[0].scrollTop+c>=r.pageContent[0].scrollHeight){r.lastRepaintY=t;var a,n,o=r.filteredItems||r.items,s=0,l=0;if(g){var d,u,h=0;for(m=c,d=0;d<r.heights.length;d++)u=r.heights[d],"undefined"==typeof a&&(h+u>=t-2*c?a=d:s+=u),"undefined"==typeof n&&((h+u>=t+2*c||d===r.heights.length-1)&&(n=d+1),l+=u),h+=u;
n=Math.min(n,o.length)}else a=(parseInt(t/r.params.height)-p)*r.params.cols,0>a&&(a=0),n=Math.min(a+f*r.params.cols,o.length);var v;r.reachEnd=!1;for(var b=a;n>b;b++){var y,w;w=r.items.indexOf(o[b]),b===a&&(r.currentFromIndex=w),b===n-1&&(r.currentToIndex=w),w===r.items.length-1&&(r.reachEnd=!0),r.domCache[w]?y=r.domCache[w]:(r.tempDomElement.innerHTML=r.template?r.template(o[b],{index:w}):r.params.renderItem?r.params.renderItem(w,o[b]):o[b],y=r.tempDomElement.childNodes[0],r.params.cache&&(r.domCache[w]=y)),y.f7VirtualListIndex=w,b===a&&(v=g?s:b*r.params.height/r.params.cols),y.style.top=v+"px",r.params.onItemBeforeInsert&&r.params.onItemBeforeInsert(r,y),r.fragment.appendChild(y)}i||(r.ul[0].style.height=g?l+"px":b*r.params.height/r.params.cols+"px"),r.params.onBeforeClear&&r.params.onBeforeClear(r,r.fragment),r.ul[0].innerHTML="",r.params.onItemsBeforeInsert&&r.params.onItemsBeforeInsert(r,r.fragment),r.ul[0].appendChild(r.fragment),r.params.onItemsAfterInsert&&r.params.onFragmentAfterInsert(r,r.fragment)}},r.handleScroll=function(){r.render()},r.handleResize=function(){r.setListSize(),r.render(!0)},r.attachEvents=function(e){var t=e?"off":"on";r.pageContent[t]("scroll",r.handleScroll),s(window)[t]("resize",r.handleResize)},r.init=function(){r.attachEvents(),r.setListSize(),r.render()},r.appendItems=function(e){for(var t=0;t<e.length;t++)r.items.push(e[t]);r.update()},r.appendItem=function(e){r.appendItems([e])},r.replaceAllItems=function(e){r.items=e,delete r.filteredItems,r.domCache={},r.update()},r.replaceItem=function(e,t){r.items[e]=t,r.params.cache&&delete r.domCache[e],r.update()},r.prependItems=function(e){for(var t=e.length-1;t>=0;t--)r.items.unshift(e[t]);if(r.params.cache){var a={};for(var n in r.domCache)a[parseInt(n,10)+e.length]=r.domCache[n];r.domCache=a}r.update()},r.prependItem=function(e){r.prependItems([e])},r.moveItem=function(e,t){if(e!==t){var a=r.items.splice(e,1)[0];if(t>=r.items.length?(r.items.push(a),t=r.items.length-1):r.items.splice(t,0,a),r.params.cache){var n={};for(var o in r.domCache){var i=parseInt(o,10),s=t>e?e:t,l=t>e?t:e,c=t>e?-1:1;(s>i||i>l)&&(n[i]=r.domCache[i]),i===s&&(n[l]=r.domCache[i]),i>s&&l>=i&&(n[i+c]=r.domCache[i])}r.domCache=n}r.update()}},r.insertItemBefore=function(e,t){if(0===e)return void r.prependItem(t);if(e>=r.items.length)return void r.appendItem(t);if(r.items.splice(e,0,t),r.params.cache){var a={};for(var n in r.domCache){var o=parseInt(n,10);o>=e&&(a[o+1]=r.domCache[o])}r.domCache=a}r.update()},r.deleteItems=function(e){for(var t,a=0,n=0;n<e.length;n++){var o=e[n];"undefined"!=typeof t&&o>t&&(a=-n),o+=a,t=e[n];var i=r.items.splice(o,1)[0];if(r.filteredItems&&r.filteredItems.indexOf(i)>=0&&r.filteredItems.splice(r.filteredItems.indexOf(i),1),r.params.cache){var s={};for(var l in r.domCache){var c=parseInt(l,10);c===o?delete r.domCache[o]:parseInt(l,10)>o?s[c-1]=r.domCache[l]:s[c]=r.domCache[l]}r.domCache=s}}r.update()},r.deleteAllItems=function(){r.items=[],delete r.filteredItems,r.params.cache&&(r.domCache={}),r.update()},r.deleteItem=function(e){r.deleteItems([e])},r.clearCache=function(){r.domCache={}},r.update=function(){r.setListSize(),r.render(!0)},r.destroy=function(){r.attachEvents(!0),delete r.items,delete r.domCache},r.init(),r.listBlock[0].f7VirtualList=r,r};o.virtualList=function(e,t){return new f(e,t)},o.reinitVirtualList=function(e){var t=s(e),a=t.find(".virtual-list");if(0!==a.length)for(var n=0;n<a.length;n++){var r=r[0].f7VirtualList;r&&r.update()}},o.initPullToRefresh=function(e){function t(e){if(c){if("android"!==o.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}d=!1,c=!0,p=void 0,v=void 0,b.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,b.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,f=(new Date).getTime(),h=s(this)}function a(e){if(c){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof p&&(p=!!(p||Math.abs(a-b.y)>Math.abs(t-b.x))),!p)return void(c=!1);if(g=h[0].scrollTop,"undefined"==typeof v&&0!==g&&(v=!0),!d){if(h.removeClass("transitioning"),g>h[0].offsetHeight)return void(c=!1);C=h.hasClass("refreshing")?44:0,w=h[0].scrollHeight===h[0].offsetHeight||"ios"!==o.device.os?!0:!1}return d=!0,u=a-b.y,u>0&&0>=g||0>g?("ios"===o.device.os&&parseInt(o.device.osVersion.split(".")[0],10)>7&&0===g&&!v&&(w=!0),w&&(e.preventDefault(),m=Math.pow(u,.85)+C,h.transform("translate3d(0,"+m+"px,0)")),w&&Math.pow(u,.85)>44||!w&&u>=88?(y=!0,h.addClass("pull-up").removeClass("pull-down")):(y=!1,h.removeClass("pull-up").addClass("pull-down")),void 0):(h.removeClass("pull-up pull-down"),void(y=!1))}}function n(){return c&&d?(m&&(h.addClass("transitioning"),m=0),h.transform(""),y?(h.addClass("refreshing"),h.trigger("refresh",{done:function(){o.pullToRefreshDone(h)}})):h.removeClass("pull-down"),c=!1,void(d=!1)):(c=!1,void(d=!1))}function r(){l.off(o.touchEvents.start,t),l.off(o.touchEvents.move,a),l.off(o.touchEvents.end,n)}function i(){r(),x.off("pageBeforeRemove",i)}var l=s(e);if(l.hasClass("pull-to-refresh-content")||(l=l.find(".pull-to-refresh-content")),l&&0!==l.length){var c,d,p,u,f,h,m,g,v,b={},y=!1,w=!1,C=0,x=l.hasClass("page")?l:l.parents(".page"),T=!1;(x.find(".navbar").length>0||x.parents(".navbar-fixed, .navbar-through").length>0||x.hasClass("navbar-fixed")||x.hasClass("navbar-through"))&&(T=!0),x.hasClass("no-navbar")&&(T=!1),T||l.addClass("pull-to-refresh-no-navbar"),h=l,l.on(o.touchEvents.start,t),l.on(o.touchEvents.move,a),l.on(o.touchEvents.end,n),0!==x.length&&(l[0].f7DestroyPullToRefresh=r,x.on("pageBeforeRemove",i))}},o.pullToRefreshDone=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down")})},o.pullToRefreshTrigger=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){o.pullToRefreshDone(e)}}))},o.destroyPullToRefresh=function(e){e=s(e);var t=e.hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");0!==t.length&&t[0].f7DestroyPullToRefresh&&t[0].f7DestroyPullToRefresh()},o.attachInfiniteScroll=function(e){s(e).on("scroll",n)},o.detachInfiniteScroll=function(e){s(e).off("scroll",n)},o.initInfiniteScroll=function(e){function t(){o.detachInfiniteScroll(a),e.off("pageBeforeRemove",t)}e=s(e);var a=e.find(".infinite-scroll");0!==a.length&&(o.attachInfiniteScroll(a),e.on("pageBeforeRemove",t))},o.initScrollToolbars=function(e){function t(){e.hasClass("page-on-left")||(f=a[0].scrollTop,v=a[0].scrollHeight,b=a[0].offsetHeight,y=o.params.showBarsOnPageScrollEnd&&f+b>=v-k,C=d.hasClass("navbar-hidden"),x=p.hasClass("toolbar-hidden"),T=c&&c.hasClass("toolbar-hidden"),w=u>f||y?"show":f>44?"hide":"show","show"===w?(h&&n&&C&&(o.showNavbar(d),e.removeClass("no-navbar-by-scroll"),C=!1),m&&r&&x&&(o.showToolbar(p),e.removeClass("no-toolbar-by-scroll"),x=!1),g&&i&&T&&(o.showToolbar(c),e.removeClass("no-tabbar-by-scroll"),T=!1)):(h&&n&&!C&&(o.hideNavbar(d),e.addClass("no-navbar-by-scroll"),C=!0),m&&r&&!x&&(o.hideToolbar(p),e.addClass("no-toolbar-by-scroll"),x=!0),g&&i&&!T&&(o.hideToolbar(c),e.addClass("no-tabbar-by-scroll"),T=!0)),u=f)}e=s(e);var a=e.find(".page-content");if(0!==a.length){var n=o.params.hideNavbarOnPageScroll||a.hasClass("hide-navbar-on-scroll")||a.hasClass("hide-bars-on-scroll"),r=o.params.hideToolbarOnPageScroll||a.hasClass("hide-toolbar-on-scroll")||a.hasClass("hide-bars-on-scroll"),i=o.params.hideTabbarOnPageScroll||a.hasClass("hide-tabbar-on-scroll");if(n||r||i){var l=a.parents("."+o.params.viewClass);if(0!==l.length){var c,d=l.find(".navbar"),p=l.find(".toolbar");i&&(c=l.find(".tabbar"),0===c.length&&(c=l.parents("."+o.params.viewsClass).find(".tabbar")));var u,f,h=d.length>0,m=p.length>0,g=c&&c.length>0;u=f=a[0].scrollTop;var v,b,y,w,C,x,T,S=m&&r?p[0].offsetHeight:0,P=g&&i?c[0].offsetHeight:0,k=P||S;a.on("scroll",t),a[0].f7ScrollToolbarsHandler=t}}}},o.destroyScrollToolbars=function(e){e=s(e);var t=e.find(".page-content");if(0!==t.length){var a=t[0].f7ScrollToolbarsHandler;a&&t.off("scroll",t[0].f7ScrollToolbarsHandler)}},o.showTab=function(e,t){var a=s(e);if(a.hasClass("active"))return!1;if(0===a.length)return!1;var n=a.parent(".tabs");if(0===n.length)return!1;o.allowSwipeout=!0;var r=n.parent().hasClass("tabs-animated-wrap");r&&n.transform("translate3d("+100*-a.index()+"%,0,0)");var i=n.children(".tab.active").removeClass("active");if(a.addClass("active"),a.trigger("show"),!r&&a.find(".navbar").length>0){var l;l=a.hasClass(o.params.viewClass)?a[0]:a.parents("."+o.params.viewClass)[0],o.sizeNavbars(l)}if(t?t=s(t):(t=s("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+a.attr("id")+'"]'),(!t||t&&0===t.length)&&s("[data-tab]").each(function(){a.is(s(this).attr("data-tab"))&&(t=s(this))})),0!==t.length){var c;if(i&&i.length>0){var d=i.attr("id");d&&(c=s('.tab-link[href="#'+d+'"]')),(!c||c&&0===c.length)&&s("[data-tab]").each(function(){i.is(s(this).attr("data-tab"))&&(c=s(this))})}return t&&t.length>0&&t.addClass("active"),c&&c.length>0&&c.removeClass("active"),!0}},o.accordionToggle=function(e){e=s(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?o.accordionClose(e):o.accordionOpen(e))},o.accordionOpen=function(e){e=s(e);var t=e.parents(".accordion-list").eq(0),a=e.children(".accordion-item-content");0===a.length&&(a=e.find(".accordion-item-content"));var n=t.length>0&&e.parent().children(".accordion-item-expanded");n.length>0&&o.accordionClose(n),a.css("height",a[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){a.transition(0),a.css("height","auto");{a[0].clientLeft}a.transition(""),e.trigger("opened")}else a.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},o.accordionClose=function(e){e=s(e);var t=e.children(".accordion-item-content");0===t.length&&(t=e.find(".accordion-item-content")),e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");{t[0].clientLeft}t.transition(""),e.trigger("opened")}else t.css("height",""),e.trigger("closed")}),e.trigger("close")},o.initFastClicks=function(){function e(e){var t=s(e.target),a=t.parents(o.params.activeStateElements);return a.length>0?a:t}function t(){var e=E.parents(".page-content, .panel");return 0===e.length?!1:("yes"!==e.prop("scrollHandlerSet")&&(e.on("scroll",function(){clearTimeout(O)}),e.prop("scrollHandlerSet","yes")),!0)}function a(){E.addClass("active-state")}function n(){E.removeClass("active-state")}function r(e){var t="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&e!==document.activeElement&&document.activeElement!==document.body?t.indexOf(e.nodeName.toLowerCase())>=0?!1:!0:!1}function i(e){var t=s(e);return"input"===e.nodeName.toLowerCase()&&"file"===e.type?!1:t.hasClass("no-fastclick")||t.parents(".no-fastclick").length>0?!1:!0}function l(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),a="button checkbox file image radio submit".split(" ");return e.disabled||e.readOnly?!1:"textarea"===t?!0:"select"===t?"android"===o.device.os?!1:!0:"input"===t&&a.indexOf(e.type)<0?!0:void 0}function c(e){if(e=s(e),e.is("label")||e.parents("label").length>0){if("android"===o.device.os){var t=o.device.osVersion.split(".");return 1*t[0]>4||1*t[0]===4&&1*t[1]>=4?!1:!0}return!1}return!0}function d(t){e(t).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){s(".active-state").removeClass("active-state")},0)}function p(){s(".active-state").removeClass("active-state")}function u(){s(".active-state").removeClass("active-state")}function f(n){if(k=!1,n.targetTouches.length>1)return!0;if(N=i(n.target),!N)return x=!1,!0;if("ios"===o.device.os){var l=window.getSelection();if(l.rangeCount&&l.focusNode!==document.body&&(!l.isCollapsed||document.activeElement===l.focusNode))return T=!0,!0;T=!1}"android"===o.device.os&&r(n.target)&&document.activeElement.blur(),x=!0,C=n.target,w=(new Date).getTime(),b=n.targetTouches[0].pageX,y=n.targetTouches[0].pageY,"ios"===o.device.os&&(S=void 0,s(C).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!S&&(S=e,S.f7ScrollTop=S.scrollTop)})),n.timeStamp-P<200&&n.preventDefault(),o.params.activeState&&(E=e(n),t(n)?O=setTimeout(a,80):a())}function h(e){if(x){var t=!1,a=o.params.fastClicksDistanceThreshold;if(a){var r=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY;(Math.abs(r-b)>a||Math.abs(i-y)>a)&&(t=!0)}else t=!0;t&&(x=!1,C=null,k=!0),o.params.activeState&&(clearTimeout(O),n())}}function m(e){if(clearTimeout(O),!x)return!T&&N&&e.preventDefault(),!0;if(document.activeElement===e.target)return!0;if(T||e.preventDefault(),e.timeStamp-P<200)return!0;if(P=e.timeStamp,x=!1,"ios"===o.device.os&&S&&S.scrollTop!==S.f7ScrollTop)return!1;o.params.activeState&&(a(),setTimeout(n,0)),l(C)&&C.focus(),e.preventDefault();var t=e.changedTouches[0],r=document.createEvent("MouseEvents"),i="click";return"android"===o.device.os&&"select"===C.nodeName.toLowerCase()&&(i="mousedown"),r.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,C.dispatchEvent(r),!1}function g(){x=!1,C=null}function v(e){var t=!1;return x?(C=null,x=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(C||(t=!0),document.activeElement===C&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),t||(e.stopImmediatePropagation(),e.stopPropagation(),C?(c(C)||k)&&e.preventDefault():e.preventDefault(),C=null),t)}o.params.activeState&&s("html").addClass("watch-active-state");var b,y,w,C,x,T,S,P,k,E,O,N;o.support.touch?(document.addEventListener("click",v,!0),document.addEventListener("touchstart",f),document.addEventListener("touchmove",h),document.addEventListener("touchend",m),document.addEventListener("touchcancel",g)):o.params.activeState&&(document.addEventListener("mousedown",d),document.addEventListener("mousemove",p),document.addEventListener("mouseup",u))},o.initClickEvents=function(){function e(e){function t(e){return"false"===e?!1:"true"===e?!0:void 0}var a=s(this),n=a.attr("href"),r="a"===a[0].nodeName.toLowerCase();if(!r||!a.is(o.params.externalLinks)){if(a.hasClass("smart-select")&&o.smartSelectOpen&&o.smartSelectOpen(a),a.hasClass("open-panel")&&o.openPanel(1===s(".panel").length?s(".panel").hasClass("panel-left")?"left":"right":"right"===a.attr("data-panel")?"right":"left"),a.hasClass("close-panel")&&o.closePanel(),a.hasClass("panel-overlay")&&o.params.panelsCloseByOutside&&o.closePanel(),a.hasClass("open-popover")){var i;i=a.attr("data-popover")?a.attr("data-popover"):".popover",o.popover(i,a)}a.hasClass("close-popover")&&o.closeModal(".popover.modal-in");var d;a.hasClass("open-popup")&&(d=a.attr("data-popup")?a.attr("data-popup"):".popup",o.popup(d)),a.hasClass("close-popup")&&(d=a.attr("data-popup")?a.attr("data-popup"):".popup.modal-in",o.closeModal(d));var p;a.hasClass("open-login-screen")&&(p=a.attr("data-login-screen")?a.attr("data-login-screen"):".login-screen",o.loginScreen(p)),a.hasClass("close-login-screen")&&o.closeModal(".login-screen.modal-in"),a.hasClass("modal-overlay")&&(s(".modal.modal-in").length>0&&o.params.modalCloseByOutside&&o.closeModal(".modal.modal-in"),s(".actions-modal.modal-in").length>0&&o.params.actionsCloseByOutside&&o.closeModal(".actions-modal.modal-in"),s(".popover.modal-in").length>0&&o.closeModal(".popover.modal-in")),a.hasClass("popup-overlay")&&s(".popup.modal-in").length>0&&o.params.popupCloseByOutside&&o.closeModal(".popup.modal-in");var u;if(a.hasClass("tab-link")&&(u=!0,o.showTab(a.attr("data-tab")||a.attr("href"),a)),a.hasClass("swipeout-delete"))if(a.attr("data-confirm")){var f=a.attr("data-confirm"),h=a.attr("data-confirm-title");h?o.confirm(f,h,function(){o.swipeoutDelete(a.parents(".swipeout"))}):o.confirm(f,function(){o.swipeoutDelete(a.parents(".swipeout"))})}else o.swipeoutDelete(a.parents(".swipeout"));if(a.hasClass("toggle-sortable")&&o.sortableToggle(a.data("sortable")),a.hasClass("open-sortable")&&o.sortableOpen(a.data("sortable")),a.hasClass("close-sortable")&&o.sortableClose(a.data("sortable")),a.hasClass("accordion-item-toggle")||a.hasClass("item-link")&&a.parent().hasClass("accordion-item")){var m=a.parent(".accordion-item");0===m.length&&(m=a.parents(".accordion-item")),0===m.length&&(m=a.parents("li")),o.accordionToggle(m)}if((!o.params.ajaxLinks||a.is(o.params.ajaxLinks))&&r&&o.params.router){r&&e.preventDefault();var g=n&&n.length>0&&"#"!==n&&!u,v=a.attr("data-template");if(g||a.hasClass("back")||v){var b;if(a.attr("data-view")?b=s(a.attr("data-view"))[0].f7View:(b=a.parents("."+o.params.viewClass)[0]&&a.parents("."+o.params.viewClass)[0].f7View,b&&b.params.linksView&&("string"==typeof b.params.linksView?b=s(b.params.linksView)[0].f7View:b.params.linksView instanceof c&&(b=b.params.linksView))),b||o.mainView&&(b=o.mainView),!b)return;var y;if(v)n=void 0;else{if(0===n.indexOf("#")&&"#"!==n){if(!b.params.domCache)return;y=n.split("#")[1],n=void 0}if("#"===n&&!a.hasClass("back"))return}var w;a.attr("data-animatePages")?w=t(a.attr("data-animatePages")):(a.hasClass("with-animation")&&(w=!0),a.hasClass("no-animation")&&(w=!1));var C={animatePages:w,ignoreCache:t(a.attr("data-ignoreCache")),force:t(a.attr("data-force")),reload:t(a.attr("data-reload")),reloadPrevious:t(a.attr("data-reloadPrevious")),pageName:y,url:n};if(o.params.template7Pages){C.contextName=a.attr("data-contextName");var x=a.attr("data-context");x&&(C.context=JSON.parse(x))}v&&v in l.templates&&(C.template=l.templates[v]),a.hasClass("back")?b.router.back(C):b.router.load(C)}}}}s(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",e)},o.initResize=function(){s(window).on("resize",o.resize),s(window).on("orientationchange",o.orientationchange)},o.resize=function(){o.sizeNavbars&&o.sizeNavbars(),r()},o.orientationchange=function(){o.device&&o.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),r()},o.formsData={},o.formStoreData=function(e,t){o.formsData[e]=t,o.ls["f7form-"+e]=JSON.stringify(t)},o.formDeleteData=function(e){o.formsData[e]&&(o.formsData[e]="",delete o.formsData[e]),o.ls["f7form-"+e]&&(o.ls["f7form-"+e]="",o.ls.removeItem("f7form-"+e))},o.formGetData=function(e){return o.ls["f7form-"+e]?JSON.parse(o.ls["f7form-"+e]):o.formsData[e]?o.formsData[e]:void 0},o.formToJSON=function(e){if(e=s(e),1!==e.length)return!1;var t={},a=["submit","image","button","file"],n=[];return e.find("input, select, textarea").each(function(){var r=s(this),o=r.attr("name"),i=r.attr("type"),l=this.nodeName.toLowerCase();if(!(a.indexOf(i)>=0||n.indexOf(o)>=0||!o))if("select"===l&&r.attr("multiple"))n.push(o),t[o]=[],e.find('select[name="'+o+'"] option').each(function(){this.selected&&t[o].push(this.value)});else switch(i){case"checkbox":n.push(o),t[o]=[],e.find('input[name="'+o+'"]').each(function(){this.checked&&t[o].push(this.value)});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked&&(t[o]=this.value)});break;default:t[o]=r.val()}}),t},o.formFromJSON=function(e,t){if(e=s(e),1!==e.length)return!1;var a=["submit","image","button","file"],n=[];e.find("input, select, textarea").each(function(){var r=s(this),o=r.attr("name"),i=r.attr("type"),l=this.nodeName.toLowerCase();if(t[o]&&!(a.indexOf(i)>=0||n.indexOf(o)>=0||!o))if("select"===l&&r.attr("multiple"))n.push(o),e.find('select[name="'+o+'"] option').each(function(){this.selected=t[o].indexOf(this.value)>=0?!0:!1});else switch(i){case"checkbox":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked=t[o].indexOf(this.value)>=0?!0:!1});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked=t[o]===this.value?!0:!1});break;default:r.val(t[o])}})},o.initFormsStorage=function(e){function t(){var e=s(this),t=e[0].id;if(t){var a=o.formToJSON(e);a&&(o.formStoreData(t,a),e.trigger("store",{data:a}))}}function a(){n.off("change submit",t),e.off("pageBeforeRemove",a)}if(e=s(e),0!==e.length){var n=e.find("form.store-data");0!==n.length&&(n.each(function(){var e=this.getAttribute("id");if(e){var t=o.formGetData(e);t&&o.formFromJSON(this,t)}}),n.on("change submit",t),e.on("pageBeforeRemove",a))}},s(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=s(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var a=t.attr("method")||"GET",n=t.attr("enctype"),r=t.attr("action");if(r){var i;i="POST"===a?new FormData(t[0]):s.serializeObject(o.formToJSON(t[0]));var l=s.ajax({method:a,url:r,contentType:n,data:i,success:function(e){t.trigger("submitted",{data:e,xhr:l})}})}}}),o.pushStateQueue=[],o.pushStateClearQueue=function(){if(0!==o.pushStateQueue.length){var e,t=o.pushStateQueue.pop();o.params.pushStateNoAnimation===!0&&(e=!1),"back"===t.action&&o.router.back(t.view,{animatePages:e}),"loadPage"===t.action&&o.router.load(t.view,{url:t.stateUrl,animatePages:e,pushState:!1}),"loadContent"===t.action&&o.router.load(t.view,{content:t.stateContent,animatePages:e,pushState:!1}),"loadPageName"===t.action&&o.router.load(t.view,{pageName:t.statePageName,animatePages:e,pushState:!1})}},o.initPushState=function(){function e(e){if(!t){var a=o.mainView;if(a){var n=e.state;if(n||(n={viewIndex:o.views.indexOf(a),url:a.history[0]}),!(n.viewIndex<0)){var r,i=o.views[n.viewIndex],s=n&&n.url||void 0,l=n&&n.content||void 0,c=n&&n.pageName||void 0;o.params.pushStateNoAnimation===!0&&(r=!1),s!==i.url&&(i.history.indexOf(s)>=0?i.allowPageChange?o.router.back(i,{url:void 0,animatePages:r,pushState:!1,preloadOnly:!1}):o.pushStateQueue.push({action:"back",view:i}):l?i.allowPageChange?o.router.load(i,{content:l,animatePages:r,pushState:!1}):o.pushStateQueue.unshift({action:"loadContent",stateContent:l,view:i}):c?i.allowPageChange?o.router.load(i,{pageName:c,animatePages:r,pushState:!1}):o.pushStateQueue.unshift({action:"loadPageName",statePageName:c,view:i}):i.allowPageChange?o.router.load(i,{url:s,animatePages:r,pushState:!1}):o.pushStateQueue.unshift({action:"loadPage",stateUrl:s,view:i}))}}}}var t=!0;s(window).on("load",function(){setTimeout(function(){t=!1},0)}),s(window).on("popstate",e)};var h=function(e,t){function a(e){var t=e.nodeName.toLowerCase();return"input"===t||"textarea"===t||"select"===t?!0:!1}var n={initialSlide:0,spaceBetween:0,speed:300,loop:!1,slidesPerView:1,onlyExternal:!1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};t=t||{};for(var r in n)"undefined"==typeof t[r]&&(t[r]=n[r]);var i=this;if(i.params=t,i.container=s(e),0!==i.container.length){i.container[0].f7Slider=i,i.container.addClass("vertical"===i.params.direction?"slider-container-vertical":"slider-container-horizontal"),i.wrapper=i.container.children("."+i.params.wrapperClass),i.params.pagination&&(i.paginationContainer=s(i.params.pagination)),i.activeSlideIndex=i.previousSlideIndex=i.params.initialSlide||0;var l="horizontal"===i.params.direction,c=l&&o.rtl?-1:1;i.updateSlides=function(){if(i.slides=i.wrapper.children("."+i.params.slideClass),0!==i.params.spaceBetween){var e=o.rtl?"marginLeft":"marginRight";l?i.slides.css(e,i.params.spaceBetween+"px"):i.slides.css({marginBottom:i.params.spaceBetween+"px"})}if(i.params.slidesPerView>1){var a="(100% - "+(i.params.slidesPerView-1)*t.spaceBetween+"px)/"+i.params.slidesPerView;l?(i.slides.css("width","-webkit-calc("+a+")"),i.slides.css("width","-moz-calc("+a+")"),i.slides.css("width","calc("+a+")")):(i.slides.css("height","-webkit-calc("+a+")"),i.slides.css("height","-moz-calc("+a+")"),i.slides.css("height","calc("+a+")"))}i.isFirst=i.isBeginning=0===i.activeSlideIndex,i.isLast=i.isEnd=i.activeSlideIndex===i.slides.length-i.params.slidesPerView},i.updatePagination=function(){if(i.paginationContainer&&i.paginationContainer.length>0){var e="",t=i.slides.length-i.params.slidesPerView+1;i.params.loop&&(t=i.slides.length-2*i.loopedSlides);for(var a=0;t>a;a++)e+='<span class="'+i.params.bulletClass+'"></span>';i.paginationContainer.html(e),i.bullets=i.paginationContainer.find("."+i.params.bulletClass)}},i.updateSize=function(){i.width=i.container[0].offsetWidth,i.height=i.container[0].offsetHeight,i.size=l?i.width:i.height},i.attachEvents=function(e){var t=e?"off":"on";i.container[t](o.touchEvents.start,i.onTouchStart),i.container[t](o.touchEvents.move,i.onTouchMove),i.container[t](o.touchEvents.end,i.onTouchEnd),s(window)[t]("resize",i.onResize),i.params.nextButton&&s(i.params.nextButton)[t]("click",i.onClickNext),i.params.prevButton&&s(i.params.prevButton)[t]("click",i.onClickPrev),i.params.indexButton&&s(i.params.indexButton)[t]("click",i.onClickIndex),(i.params.preventClicks||i.params.preventClicksPropagation)&&i.container[t]("click",i.onClick,!0)},i.detachEvents=function(){i.attachEvents(!0)},i.onResize=function(){i.updateSize(),i.slideTo(i.activeSlideIndex,0,!1)};var d,p,u,f,h,m,g={},v={},b=Date.now();i.animating=!1,i.allowClick=!0,i.onClick=function(e){i.params.preventClicks&&!i.allowClick&&(e.preventDefault(),i.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},i.touchedTarget=null;var y,w;i.onTouchStart=function(e){i.params.onlyExternal||(i.touchedTarget=e.target,d=!0,p=!1,f=void 0,g.x=v.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.y=v.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,u=Date.now(),i.allowClick=!0,i.updateSize(),i.params.onTouchStart&&i.params.onTouchStart(i,e),y=w=!1,"mousedown"===e.type&&(a(e.target)||e.preventDefault()))},i.onTouchMove=function(e){if(i.params.onTouchMove&&i.params.onTouchMove(i,e),i.allowClick=!1,!(e.targetTouches&&e.targetTouches.length>1)&&(v.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,v.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof f&&(f=!!(f||Math.abs(v.y-g.y)>Math.abs(v.x-g.x))),(l&&f||!l&&!f)&&i.params.onOppositeTouchMove&&i.params.onOppositeTouchMove(i,e),d)){if(l&&f||!l&&!f)return void(d=!1);i.params.onSliderMove&&i.params.onSliderMove(i,e),e.preventDefault(),e.stopPropagation(),p||(t.loop&&i.fixLoop(),h=s.getTranslate(i.wrapper[0],l?"x":"y")*c,i.wrapper.transition(0),i.animating&&i.onTransitionEnd(),t.autoplay&&x&&(i.params.autoplayDisableOnInteraction?i.stopAutoplay():C&&clearTimeout(C))),p=!0;var a=l?(v.x-g.x)*c:v.y-g.y;a>0&&0===i.activeSlideIndex?a=Math.pow(a,.85):0>a&&i.activeSlideIndex===i.slides.length-i.params.slidesPerView?a=-Math.pow(-a,.85):0>a&&0===i.activeSlideIndex&&i.slides.length<i.params.slidesPerView&&(a=-Math.pow(-a,.85));var n=l?(a+h)*c:0,r=l?0:a+h;i.wrapper.transform("translate3d("+n+"px, "+r+"px,0)")}},i.onTouchEnd=function(e){i.params.onTouchEnd&&i.params.onTouchEnd(i,e);var t=Date.now(),n=t-u;if(a(i.touchedTarget)&&(y=!0),document.activeElement&&document.activeElement!==i.touchedTarget&&a(document.activeElement)&&(document.activeElement.blur(),w=!0),i.allowClick&&(300>n&&t-b>300&&(m&&clearTimeout(m),m=setTimeout(function(){i&&(i.params.paginationHide&&i.paginationContainer&&!w&&!y&&i.paginationContainer.toggleClass("slider-pagination-hidden"),i.params.onClick&&i.params.onClick(i,e))},300)),300>n&&300>t-b&&(m&&clearTimeout(m),i.params.onDoubleTap&&i.params.onDoubleTap(i,e)),i.params.onTap&&i.params.onTap(i,e)),b=Date.now(),!d||!p)return void(d=p=!1);d=p=!1;var r=l?(v.x-g.x)*c:v.y-g.y;Math.abs(r)<5&&300>n&&i.allowClick===!1&&(i.allowClick=!0),setTimeout(function(){i&&(i.allowClick=!0)},100);var o=i.params.autoplay&&x&&!i.params.autoplayDisableOnInteraction;if(0===r)return void(o&&i.startAutoplay());var s=1,f=i.size/i.params.slidesPerView;i.params.slidesPerView>1&&(s=Math.abs((Math.abs(r)+f/2)/f)),o&&i.wrapper.transitionEnd(function(){i.startAutoplay()}),n>300?-f/2>=r?i.slideTo(i.activeSlideIndex+Math.floor(s)):r>f/2?i.slideTo(i.activeSlideIndex-Math.floor(s)):i.slideReset():Math.abs(r)<10?i.slideReset():i.slideTo(0>r?i.activeSlideIndex+Math.round(s):i.activeSlideIndex-Math.round(s))},i.slideTo=function(e,t,a){"undefined"==typeof e&&(e=0),e>i.slides.length-i.params.slidesPerView&&(e=i.slides.length-i.params.slidesPerView),0>e&&(e=0);var n=-(i.size+i.params.spaceBetween)*e/i.params.slidesPerView;"undefined"==typeof t&&(t=i.params.speed),i.previousSlideIndex=i.activeSlideIndex,i.activeSlideIndex=Math.round(e),i.isFirst=i.isBeginning=0===i.activeSlideIndex,i.isLast=i.isEnd=i.activeSlideIndex===i.slides.length-i.params.slidesPerView,i.onTransitionStart();var r=l?n*c:0,o=l?0:n;0===t?(i.wrapper.transition(0).transform("translate3d("+r+"px,"+o+"px,0)"),a!==!1&&i.onTransitionEnd()):(i.animating=!0,i.wrapper.transition(t).transform("translate3d("+r+"px,"+o+"px,0)").transitionEnd(function(){a!==!1&&i.onTransitionEnd()}))},i.updateClasses=function(){i.slides.removeClass(i.params.slideActiveClass+" "+i.params.slideNextClass+" "+i.params.slidePrevClass);var e=i.slides.eq(i.activeSlideIndex);if(e.addClass(i.params.slideActiveClass),e.next().addClass(i.params.slideNextClass),e.prev().addClass(i.params.slidePrevClass),i.bullets&&i.bullets.length>0){i.bullets.removeClass(i.params.bulletActiveClass);var t=i.activeSlideIndex;i.params.loop&&(t-=i.loopedSlides,0>t&&(t=i.bullets.length+t),t>=i.bullets.length&&(t-=i.bullets.length)),i.bullets.eq(t).addClass(i.params.bulletActiveClass)}},i.onTransitionStart=function(){i.updateClasses(),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeStart&&i.params.onSlideChangeStart(i),i.params.onTransitionStart&&i.params.onTransitionStart(i)},i.onTransitionEnd=function(){i.animating=!1,i.wrapper.transition(0),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeEnd&&i.params.onSlideChangeEnd(i),i.params.onTransitionEnd&&i.params.onTransitionEnd(i)},i.slideNext=function(){if(i.params.loop){if(i.animating)return;i.fixLoop(),setTimeout(function(){i.slideTo(i.activeSlideIndex+1)},0)}else i.slideTo(i.activeSlideIndex+1)},i.slidePrev=function(){if(i.params.loop){if(i.animating)return;i.fixLoop(),setTimeout(function(){i.slideTo(i.activeSlideIndex-1)},0)}else i.slideTo(i.activeSlideIndex-1)},i.slideReset=function(){i.slideTo(i.activeSlideIndex)},i.onClickNext=function(e){e.preventDefault(),i.slideNext()},i.onClickPrev=function(e){e.preventDefault(),i.slidePrev()},i.onClickIndex=function(e){e.preventDefault(),i.slideTo(s(this).index())};var C,x;return i.startAutoplay=function(){i.params.autoplay&&(x=!0,C&&clearTimeout(C),C=setTimeout(function(){if(i.wrapper.transitionEnd(function(){i.startAutoplay()}),i.params.loop)i.slideNext();else{var e=i.activeSlideIndex+1;e>i.slides.length-i.params.slidesPerView&&(e=0),i.slideTo(e)}},i.params.autoplay))},i.stopAutoplay=function(){x=!1,C&&clearTimeout(C)},i.resetAutoplay=function(){i.stopAutoplay(),i.startAutoplay()},i.createLoop=function(){i.wrapper.children("."+i.params.slideClass+".slider-slide-duplicate").remove();var e=i.wrapper.children("."+i.params.slideClass);if(i.loopedSlides=parseInt(i.params.loopedSlides||i.params.slidesPerView,10),i.loopedSlides>e.length)return void(i.loopedSlides=e.length);var t,a=[],n=[];for(e.each(function(t,r){var o=s(this);t<i.loopedSlides&&n.push(r),t<e.length&&t>=e.length-i.loopedSlides&&a.push(r),o.attr("data-slider-slide-index",t)
}),t=0;t<n.length;t++)i.wrapper.append(s(n[t].cloneNode(!0)).addClass("slider-slide-duplicate"));for(t=a.length-1;t>=0;t--)i.wrapper.prepend(s(a[t].cloneNode(!0)).addClass("slider-slide-duplicate"))},i.fixLoop=function(){var e;i.activeSlideIndex<i.loopedSlides?(e=i.slides.length-3*i.loopedSlides+i.activeSlideIndex,e+=i.loopedSlides,i.slideTo(e,0,!1)):i.activeSlideIndex>i.slides.length-2*i.params.slidesPerView&&(e=-i.slides.length+i.activeSlideIndex+i.loopedSlides,e+=i.loopedSlides,i.slideTo(e,0,!1))},i.init=function(){i.params.loop&&i.createLoop(),i.updateSlides(),i.updatePagination(),i.updateSize(),i.params.loop?i.slideTo(i.params.initialSlide+i.loopedSlides,0,!1):i.params.initialSlide>0?i.slideTo(i.params.initialSlide,0,!1):i.updateClasses(),i.attachEvents(),i.params.autoplay&&i.startAutoplay(),"function"==typeof i.params.onInit&&i.params.onInit()},i.update=function(){i.params.loop&&i.createLoop(),i.updateSlides(),i.updatePagination(),i.updateSize(),i.updateClasses()},i.destroy=function(){i.detachEvents(),i.params.onDestroy&&i.params.onDestroy(),i=void 0},i.init(),i}};o.slider=function(e,t){return new h(e,t)},o.initSlider=function(e){function t(e){function t(){e.destroy(),a.off("pageBeforeRemove",t)}a.on("pageBeforeRemove",t)}var a=s(e),n=a.find(".slider-init");if(0!==n.length)for(var r=0;r<n.length;r++){var i,l=n.eq(r);i=l.data("slider")?JSON.parse(l.data("slider")):{initialSlide:parseInt(l.data("initialSlide"),10)||void 0,spaceBetween:parseInt(l.data("spaceBetween"),10)||void 0,speed:parseInt(l.data("speed"),10)||void 0,slidesPerView:parseInt(l.data("slidesPerView"),10)||void 0,direction:l.data("direction"),pagination:l.data("pagination"),paginationHide:l.data("paginationHide")&&("true"===l.data("paginationHide")?!0:!1),loop:l.data("loop")&&("true"===l.data("loop")?!0:!1),onlyExternal:l.data("onlyExternal")&&("true"===l.data("onlyExternal")?!0:!1),slideClass:l.data("slideClass"),slideActiveClass:l.data("slideActiveClass"),slideNextClass:l.data("slideNextClass"),slidePrevClass:l.data("slidePrevClass"),wrapperClass:l.data("wrapperClass"),bulletClass:l.data("bulletClass"),bulletActiveClass:l.data("bulletActiveClass"),nextButton:l.data("nextButton"),prevButton:l.data("prevButton"),indexButton:l.data("indexButton"),autoplay:l.data("autoplay")};var c=o.slider(l[0],i);t(c)}},o.reinitSlider=function(e){var t=s(e),a=t.find(".slider-init");if(0!==a.length)for(var n=0;n<a.length;n++){var r=a[0].f7Slider;r&&r.onResize()}};var m=function(e){var t,a=this,n={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};e=e||{};for(var r in n)"undefined"==typeof e[r]&&(e[r]=n[r]);a.params=e;var i="dark"===a.params.theme?"color-white":"",l=a.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===a.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+i+'"></i><span>'+a.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+a.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',c=o.rtl?"next":"prev",d=o.rtl?"prev":"next",p=a.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+c+" "+i+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+d+" "+i+'"></i></a></div></div>',u=a.params.template||'<div class="photo-browser photo-browser-'+a.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',f=a.params.lazyLoading?a.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy slider-slide"><div class="preloader'+("dark"===a.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}"></span></div>':a.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',h=a.params.captionsTheme||a.params.theme,m=a.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+h+'">{{captions}}</div>',g=a.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',v=a.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',b="",y="";for(t=0;t<a.params.photos.length;t++){var w=a.params.photos[t],C="";"string"==typeof w||w instanceof String?C=w.indexOf("<")>=0||w.indexOf(">")>=0?v.replace(/{{html}}/g,w):f.replace(/{{url}}/g,w):"object"==typeof w&&(w.hasOwnProperty("html")&&w.html.length>0?C=v.replace(/{{html}}/g,w.html):w.hasOwnProperty("url")&&w.url.length>0&&(C=f.replace(/{{url}}/g,w.url)),w.hasOwnProperty("caption")&&w.caption.length>0?y+=g.replace(/{{caption}}/g,w.caption).replace(/{{captionIndex}}/g,t):C=C.replace(/{{caption}}/g,"")),b+=C}var x=u.replace("{{navbar}}",a.params.navbar?l:"").replace("{{noNavbar}}",a.params.navbar?"":"no-navbar").replace("{{photos}}",b).replace("{{captions}}",m.replace(/{{captions}}/g,y)).replace("{{toolbar}}",a.params.toolbar?p:"");a.activeSlideIndex=a.params.initialSlide,a.openIndex=a.activeSlideIndex,a.opened=!1,a.open=function(e){return"undefined"==typeof e&&(e=a.activeSlideIndex),e=parseInt(e,10),a.opened&&a.slider?void a.slider.slideTo(e):(a.opened=!0,a.openIndex=e,a.initialLazyLoaded=!1,"standalone"===a.params.type&&s("body").append(x),"popup"===a.params.type&&(a.popup=o.popup('<div class="popup photo-browser-popup">'+x+"</div>"),s(a.popup).on("closed",a.onPopupClose)),"page"===a.params.type?(s(document).on("pageBeforeInit",a.onPageBeforeInit),s(document).on("pageBeforeRemove",a.onPageBeforeRemove),a.params.view||(a.params.view=o.mainView),void a.params.view.loadContent(x)):(a.layout(a.openIndex),void(a.params.onOpen&&a.params.onOpen(a))))},a.close=function(){a.opened=!1,a.sliderContainer&&0!==a.sliderContainer.length&&(a.params.onClose&&a.params.onClose(a),a.attachEvents(!0),"standalone"===a.params.type&&a.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){a.container.remove()}),a.slider.destroy(),a.slider=a.sliderContainer=a.sliderWrapper=a.slides=T=S=P=void 0)},a.onPopupClose=function(){a.close(),s(a.popup).off("pageBeforeInit",a.onPopupClose)},a.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&a.layout(a.openIndex),s(document).off("pageBeforeInit",a.onPageBeforeInit)},a.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&a.close(),s(document).off("pageBeforeRemove",a.onPageBeforeRemove)},a.loadImageInSlide=function(e,t){if(e&&"undefined"!=typeof t&&0!==e.slides.length){var n=e.slides.eq(t);if(n.hasClass("photo-browser-slide-lazy")){var r=n.find("img");if(0!==r.length){var o=new Image,i=r.attr("data-src");o.onload=function(){r.attr("src",i),r.removeAttr("data-src"),n.removeClass("photo-browser-slide-lazy").find(".preloader").remove(),a.params.onImageLoaded&&a.params.onImageLoaded(a,n[0],r[0])},o.src=i,a.params.onImageLoad&&a.params.onImageLoad(a,n[0],r[0])}}}},a.lazyLoading=function(e,t){if(a.loadImageInSlide(e,t),a.params.lazyLoadingInPrevNext){var n=e.wrapper.find(".slider-slide-next.photo-browser-slide-lazy");n.length>0&&a.loadImageInSlide(e,n.index());var r=e.wrapper.find(".slider-slide-prev.photo-browser-slide-lazy");r.length>0&&a.loadImageInSlide(e,r.index())}},a.onSliderTransitionStart=function(e){a.activeSlideIndex=e.activeSlideIndex;var t=e.activeSlideIndex+1,n=e.slides.length;if(a.params.loop&&(n-=2,t-=e.loopedSlides,1>t&&(t=n+t),t>n&&(t-=n)),a.container.find(".photo-browser-current").text(t),a.container.find(".photo-browser-total").text(n),s(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isFirst&&!a.params.loop&&s(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isLast&&!a.params.loop&&s(".photo-browser-next").addClass("photo-browser-link-inactive"),a.captions.length>0){a.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var r=a.params.loop?e.slides.eq(e.activeSlideIndex).attr("data-slider-slide-index"):a.activeSlideIndex;a.captionsContainer.find('[data-caption-index="'+r+'"]').addClass("photo-browser-caption-active")}a.params.lazyLoading&&(a.params.lazyLoadingOnTransitionStart||!a.params.lazyLoadingOnTransitionStart&&!a.initialLazyLoaded)&&(a.initialLazyLoaded=!0,a.lazyLoading(e,a.activeSlideIndex));var o=e.slides.eq(e.previousSlideIndex).find("video");o.length>0&&"pause"in o[0]&&o[0].pause(),a.params.onSlideChangeStart&&a.params.onSlideChangeStart(e)},a.onSliderTransitionEnd=function(e){a.params.lazyLoading&&!a.params.lazyLoadingOnTransitionStart&&a.lazyLoading(e,a.activeSlideIndex),a.params.zoom&&T&&e.previousSlideIndex!==e.activeSlideIndex&&(S.transform("translate3d(0,0,0) scale(1)"),P.transform("translate3d(0,0,0)"),T=S=P=void 0,k=E=1),a.params.onSlideChangeEnd&&a.params.onSlideChangeEnd(e)},a.layout=function(e){a.container="page"===a.params.type?s(".photo-browser-slider-container").parents(".view"):s(".photo-browser"),"standalone"===a.params.type&&(a.container.addClass("photo-browser-in"),o.sizeNavbars(a.container)),a.sliderContainer=a.container.find(".photo-browser-slider-container"),a.sliderWrapper=a.container.find(".photo-browser-slider-wrapper"),a.slides=a.container.find(".photo-browser-slide"),a.captionsContainer=a.container.find(".photo-browser-captions"),a.captions=a.container.find(".photo-browser-caption");var t={nextButton:a.params.nextButton||".photo-browser-next",prevButton:a.params.prevButton||".photo-browser-prev",indexButton:a.params.indexButton,initialSlide:e,spaceBetween:a.params.spaceBetween,speed:a.params.speed,loop:a.params.loop,onTap:function(e,t){a.params.onTap&&a.params.onTap(e,t)},onClick:function(e,t){a.params.exposition&&a.toggleExposition(),a.params.onClick&&a.params.onClick(e,t)},onDoubleTap:function(e,t){a.toggleZoom(s(t.target).parents(".photo-browser-slide")),a.params.onDoubleTap&&a.params.onDoubleTap(e,t)},onTransitionStart:function(e){a.onSliderTransitionStart(e)},onTransitionEnd:function(e){a.onSliderTransitionEnd(e)}};a.params.swipeToClose&&"page"!==a.params.type&&(t.onTouchStart=a.swipeCloseTouchStart,t.onOppositeTouchMove=a.swipeCloseTouchMove,t.onTouchEnd=a.swipeCloseTouchEnd),a.slider=o.slider(a.sliderContainer,t),0===e&&a.onSliderTransitionStart(a.slider),a.attachEvents()},a.attachEvents=function(e){var t=e?"off":"on";if(a.params.zoom){var n=a.params.loop?a.slider.slides:a.slides;n[t]("gesturestart",a.onSlideGestureStart),n[t]("gesturechange",a.onSlideGestureChange),n[t]("gestureend",a.onSlideGestureEnd),n[t](o.touchEvents.start,a.onSlideTouchStart),n[t](o.touchEvents.move,a.onSlideTouchMove),n[t](o.touchEvents.end,a.onSlideTouchEnd)}a.container.find(".photo-browser-close-link")[t]("click",a.close)};a.exposed=!1,a.toggleExposition=function(){a.container&&a.container.toggleClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.toggleClass("photo-browser-captions-exposed"),a.exposed=!a.exposed},a.enableExposition=function(){a.container&&a.container.addClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.addClass("photo-browser-captions-exposed"),a.exposed=!0},a.disableExposition=function(){a.container&&a.container.removeClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.removeClass("photo-browser-captions-exposed"),a.exposed=!1};var T,S,P,k=1,E=1,O=!1;a.onSlideGestureStart=function(){return T||(T=s(this),S=T.find("img, svg, canvas"),P=S.parent(".photo-browser-zoom-container"),0!==P.length)?(S.transition(0),void(O=!0)):void(S=void 0)},a.onSlideGestureChange=function(e){S&&0!==S.length&&(k=e.scale*E,k>a.params.maxZoom&&(k=a.params.maxZoom-1+Math.pow(k-a.params.maxZoom+1,.5)),k<a.params.minZoom&&(k=a.params.minZoom+1-Math.pow(a.params.minZoom-k+1,.5)),S.transform("translate3d(0,0,0) scale("+k+")"))},a.onSlideGestureEnd=function(){S&&0!==S.length&&(k=Math.max(Math.min(k,a.params.maxZoom),a.params.minZoom),S.transition(a.params.speed).transform("translate3d(0,0,0) scale("+k+")"),E=k,O=!1,1===k&&(T=void 0))},a.toggleZoom=function(){T||(T=a.slider.slides.eq(a.slider.activeSlideIndex),S=T.find("img, svg, canvas"),P=S.parent(".photo-browser-zoom-container")),S&&0!==S.length&&(P.transition(300).transform("translate3d(0,0,0)"),k&&1!==k?(k=E=1,S.transition(300).transform("translate3d(0,0,0) scale(1)"),T=void 0):(k=E=a.params.maxZoom,S.transition(300).transform("translate3d(0,0,0) scale("+k+")")))};var N,I,M,A,D,L,B,_,R,H,F,j,z,V,q,U,X,Y={},J={};a.onSlideTouchStart=function(e){S&&0!==S.length&&(N||("android"===o.device.os&&e.preventDefault(),N=!0,Y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,Y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},a.onSlideTouchMove=function(e){if(S&&0!==S.length&&(a.slider.allowClick=!1,N&&T)){I||(R=S[0].offsetWidth,H=S[0].offsetHeight,F=s.getTranslate(P[0],"x")||0,j=s.getTranslate(P[0],"y")||0,P.transition(0));var t=R*k,n=H*k;if(!(t<a.slider.width&&n<a.slider.height)){if(D=Math.min(a.slider.width/2-t/2,0),B=-D,L=Math.min(a.slider.height/2-n/2,0),_=-L,J.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,J.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!I&&!O&&(Math.floor(D)===Math.floor(F)&&J.x<Y.x||Math.floor(B)===Math.floor(F)&&J.x>Y.x))return void(N=!1);e.stopPropagation(),I=!0,M=J.x-Y.x+F,A=J.y-Y.y+j,D>M&&(M=D+1-Math.pow(D-M+1,.8)),M>B&&(M=B-1+Math.pow(M-B+1,.8)),L>A&&(A=L+1-Math.pow(L-A+1,.8)),A>_&&(A=_-1+Math.pow(A-_+1,.8)),z||(z=J.x),U||(U=J.y),V||(V=Date.now()),q=(J.x-z)/(Date.now()-V)/2,X=(J.y-U)/(Date.now()-V)/2,Math.abs(J.x-z)<2&&(q=0),Math.abs(J.y-U)<2&&(X=0),z=J.x,U=J.y,V=Date.now(),P.transform("translate3d("+M+"px, "+A+"px,0)")}}},a.onSlideTouchEnd=function(){if(S&&0!==S.length){if(!N||!I)return N=!1,void(I=!1);N=!1,I=!1;var e=300,t=300,n=q*e,r=M+n,o=X*t,i=A+o;0!==q&&(e=Math.abs((r-M)/q)),0!==X&&(t=Math.abs((i-A)/X));var s=Math.max(e,t);M=r,A=i;var l=R*k,c=H*k;D=Math.min(a.slider.width/2-l/2,0),B=-D,L=Math.min(a.slider.height/2-c/2,0),_=-L,M=Math.max(Math.min(M,B),D),A=Math.max(Math.min(A,_),L),P.transition(s).transform("translate3d("+M+"px, "+A+"px,0)")}};var W,G,K,Q,Z,$=!1,et=!0,tt=!1;return a.swipeCloseTouchStart=function(){et&&($=!0)},a.swipeCloseTouchMove=function(e,t){if($){tt||(tt=!0,G="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,Q=a.slider.slides.eq(a.slider.activeSlideIndex),Z=(new Date).getTime()),t.preventDefault(),K="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,W=G-K;var n=1-Math.abs(W)/300;Q.transform("translate3d(0,"+-W+"px,0)"),a.slider.container.css("opacity",n).transition(0)}},a.swipeCloseTouchEnd=function(){if($=!1,!tt)return void(tt=!1);tt=!1,et=!1;var e=Math.abs(W),t=(new Date).getTime()-Z;return 300>t&&e>20||t>=300&&e>100?void setTimeout(function(){"standalone"===a.params.type&&a.close(),"popup"===a.params.type&&o.closeModal(a.popup),a.params.onSwipeToClose&&a.params.onSwipeToClose(a),et=!0},0):(0!==e?Q.addClass("transitioning").transitionEnd(function(){et=!0,Q.removeClass("transitioning")}):et=!0,a.slider.container.css("opacity","").transition(""),void Q.transform(""))},a};o.photoBrowser=function(e){return new m(e)};var g;o.addNotification=function(e){if(e){"undefined"==typeof e.media&&(e.media=o.params.notificationMedia),"undefined"==typeof e.title&&(e.title=o.params.notificationTitle),"undefined"==typeof e.subtitle&&(e.subtitle=o.params.notificationSubtitle),"undefined"==typeof e.closeIcon&&(e.closeIcon=o.params.notificationCloseIcon),"undefined"==typeof e.hold&&(e.hold=o.params.notificationHold),"undefined"==typeof e.closeOnClick&&(e.closeOnClick=o.params.notificationCloseOnClick),g||(g=document.createElement("div"));var t=s(".notifications");0===t.length&&(s("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),t=s(".notifications"));var a,n=t.children("ul");a=e.custom?"<li>"+e.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(e.media?'<div class="item-media">'+e.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(e.title?'<div class="item-title">'+e.title+"</div>":"")+(e.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(e.subtitle?'<div class="item-subtitle">'+e.subtitle+"</div>":"")+(e.message?'<div class="item-text">'+e.message+"</div>":"")+"</div></div></li>",g.innerHTML=a;var r=s(g).children();r.on("click",function(t){var a=!1;s(t.target).is(".close-notification")||s(t.target).parents(".close-notification").length>0?a=!0:(e.onClick&&e.onClick(t,r[0]),e.closeOnClick&&(a=!0)),a&&o.closeNotification(r[0])}),e.onClose&&r.data("f7NotificationOnClose",function(){e.onClose(r[0])}),e.additionalClass&&r.addClass(e.additionalClass),e.hold&&setTimeout(function(){r.length>0&&o.closeNotification(r[0])},e.hold),n.prepend(r[0]),t.show();var i=r.outerHeight();r.css("marginTop",-i+"px"),r.transition(0);{r[0].clientLeft}return r.transition(""),r.css("marginTop","0px"),t.transform("translate3d(0, 0,0)"),r.removeClass("notification-hidden"),r[0]}},o.closeNotification=function(e){if(e=s(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=s(".notifications"),a=e.outerHeight();e.css("height",a+"px").transition(0);{e[0].clientLeft}e.css("height","0px").transition("").addClass("notification-item-removing"),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}},o.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||o.params.templates||{},Template7.data=Template7.data||o.params.template7Data||{},Template7.cache=Template7.cache||{},o.templates=Template7.templates,o.template7Data=Template7.data,o.template7Cache=Template7.cache,o.params.precompileTemplates&&s('script[type="text/template7"]').each(function(){var e=s(this).attr("id");e&&(Template7.templates[e]=Template7.compile(s(this).html()))}))};var v=[];return o.initPlugins=function(){for(var e in o.plugins){var t=o.plugins[e](o,o.params[e]);t&&v.push(t)}},o.pluginHook=function(e){for(var t=0;t<v.length;t++)v[t].hooks&&e in v[t].hooks&&v[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},o.pluginPrevent=function(e){for(var t=!1,a=0;a<v.length;a++)v[a].prevents&&e in v[a].prevents&&v[a].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},o.pluginProcess=function(e,t){for(var a=t,n=0;n<v.length;n++)v[n].preprocess&&process in v[n].preprocess&&(a=v[n].preprocess[process](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return a},o.init=function(){o.initPlugins&&o.initPlugins(),o.getDeviceInfo&&o.getDeviceInfo(),o.initFastClicks&&o.params.fastClicks&&o.initFastClicks(),o.initClickEvents&&o.initClickEvents(),s(".page:not(.cached)").each(function(){var e=s(this),t=e.parents("."+o.params.viewClass);if(0!==t.length){var a=t[0].f7View||!1,n=a&&a.url?a.url:!1;t&&t.attr("data-page",e.attr("data-page")||void 0),o.pageInitCallback(a,{pageContainer:this,url:n,position:"center"})}}),o.initResize&&o.initResize(),o.initPushState&&o.params.pushState&&o.initPushState(),o.initSwipeout&&o.params.swipeout&&o.initSwipeout(),o.initSortable&&o.params.sortable&&o.initSortable(),o.initSwipePanels&&(o.params.swipePanel||o.params.swipePanelOnlyClose)&&o.initSwipePanels(),o.params.onAppInit&&o.params.onAppInit(),o.initTemplate7Templates&&o.initTemplate7Templates(),o.pluginHook("appInit")},o.params.init&&o.init(),o};var e=function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,this},t=function(t,a){var n=[],r=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var o,i,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),i=document.createElement(l),i.innerHTML=t,r=0;r<i.childNodes.length;r++)n.push(i.childNodes[r])}else for(o=a||"#"!==t[0]||t.match(/[ .<>:~]/)?(a||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<o.length;r++)o[r]&&n.push(o[r])}else if(t.nodeType||t===window||t===document)n.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)n.push(t[r]);return new e(n)};e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.remove(t[a]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.toggle(t[a]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(e,t);else for(var n in e)this[a][n]=e[n],this[a].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e)},prop:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a][e]=t;else for(var n in e)this[a][n]=e[n];return this},data:function(e,t){if("undefined"==typeof t){if(this[0]){var a=this[0].getAttribute("data-"+e);return a?a:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this},val:function(e){if("undefined"==typeof e)return this[0]?this[0].value:null;for(var t=0;t<this.length;t++)this[t].value=e;return this},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,n,r){function o(e){var r=e.target;if(t(r).is(a))n.call(r,e);else for(var o=t(r).parents(),i=0;i<o.length;i++)t(o[i]).is(a)&&n.call(o[i],e)}var i,s,l=e.split(" ");for(i=0;i<this.length;i++)if("function"==typeof a||a===!1)for("function"==typeof a&&(n=arguments[1],r=arguments[2]||!1),s=0;s<l.length;s++)this[i].addEventListener(l[s],n,r);else for(s=0;s<l.length;s++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:n,liveListener:o}),this[i].addEventListener(l[s],o,r);return this},off:function(e,t,a,n){for(var r=e.split(" "),o=0;o<r.length;o++)for(var i=0;i<this.length;i++)if("function"==typeof t||t===!1)"function"==typeof t&&(a=arguments[1],n=arguments[2]||!1),this[i].removeEventListener(r[o],a,n);else if(this[i].dom7LiveListeners)for(var s=0;s<this[i].dom7LiveListeners.length;s++)this[i].dom7LiveListeners[s].listener===a&&this[i].removeEventListener(r[o],this[i].dom7LiveListeners[s].liveListener,n);return this},once:function(e,t,a,n){function r(i){a(i),o.off(e,t,r,n)}var o=this;"function"==typeof t&&(t=!1,a=arguments[1],n=arguments[2]),o.on(e,t,r,n)},trigger:function(e,t){for(var a=0;a<this.length;a++){var n;try{n=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(r){n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.detail=t}this[a].dispatchEvent(n)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),a=0;a<n.length;a++)r.off(n[a],t)}var a,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],t);return this},animationEnd:function(e){function t(o){for(e(o),a=0;a<n.length;a++)r.off(n[a],t)}var a,n=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,n=e.clientTop||a.clientTop||0,r=e.clientLeft||a.clientLeft||0,o=window.pageYOffset||e.scrollTop,i=window.pageXOffset||e.scrollLeft;return{top:t.top+o-n,left:t.left+i-r}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[0].textContent=e},is:function(a){if(!this[0])return!1;var n,r;if("string"==typeof a){var o=this[0];if(o===document)return a===document;if(o===window)return a===window;if(o.matches)return o.matches(a);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(a);if(o.mozMatchesSelector)return o.mozMatchesSelector(a);if(o.msMatchesSelector)return o.msMatchesSelector(a);for(n=t(a),r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(n=a.nodeType?[a]:a,r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}return void 0},eq:function(t){if("undefined"==typeof t)return this;var a,n=this.length;return t>n-1?new e([]):0>t?(a=n+t,new e(0>a?[]:[this[a]])):new e([this[t]])},append:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[a].appendChild(r.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].appendChild(t[n]);else this[a].appendChild(t);return this},prepend:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n--)this[a].insertBefore(r.childNodes[n],this[a].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].insertBefore(t[n],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},insertBefore:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0]);else if(a.length>1)for(var r=0;r<a.length;r++)a[r].parentNode.insertBefore(this[n].cloneNode(!0),a[r])},insertAfter:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0].nextSibling);else if(a.length>1)for(var r=0;r<a.length;r++)a[r].parentNode.insertBefore(this[n].cloneNode(!0),a[r].nextSibling)},next:function(a){return new e(this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(a){var n=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var o=r.nextElementSibling;n.push(a&&t(o).is(a)?o:o),r=o}return new e(n)},prev:function(a){return new e(this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(a){var n=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var o=r.previousElementSibling;n.push(a&&t(o).is(a)?o:o),r=o}return new e(n)},parent:function(e){for(var a=[],n=0;n<this.length;n++)e?t(this[n].parentNode).is(e)&&a.push(this[n].parentNode):a.push(this[n].parentNode);return t(t.unique(a))},parents:function(e){for(var a=[],n=0;n<this.length;n++)for(var r=this[n].parentNode;r;)e?t(r).is(e)&&a.push(r):a.push(r),r=r.parentNode;return t(t.unique(a))},find:function(t){for(var a=[],n=0;n<this.length;n++)for(var r=this[n].querySelectorAll(t),o=0;o<r.length;o++)a.push(r[o]);return new e(a)},children:function(a){for(var n=[],r=0;r<this.length;r++)for(var o=this[r].childNodes,i=0;i<o.length;i++)a?1===o[i].nodeType&&t(o[i]).is(a)&&n.push(o[i]):1===o[i].nodeType&&n.push(o[i]);return new e(t.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()}},function(){function t(t){e.prototype[t]=function(e){var a;if("undefined"==typeof e){for(a=0;a<this.length;a++)n.indexOf(t)<0&&this[a][t]();return this}return this.on(t,e)}}for(var a="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),n="resize scroll".split(" "),r=0;r<a.length;r++)t(a[r])}();var a=0;return t.ajax=function(e){var n={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};e.type&&(e.method=e.type);for(var r in n)r in e||(e[r]=n[r]);e.url||(e.url=window.location.toString());var o=e.method.toUpperCase();if(("GET"===o||"HEAD"===o)&&e.data){var i;i="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),e.url+=e.url.indexOf("?")>=0?"&"+i:"?"+i}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var s,l,c="f7jsonp_"+Date.now()+a++,d=e.url.split("callback=");if(d[1].indexOf("&")>=0){var p=d[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");s=d[0]+"callback="+c+(p.length>0?"&"+p:"")}else s=d[0]+"callback="+c;var u=document.createElement("script");return u.type="text/javascript",u.onerror=function(){clearTimeout(l),e.error&&e.error()
},u.src=s,window[c]=function(t){clearTimeout(l),e.success&&e.success(t),u.parentNode.removeChild(u),u=null,delete window[c]},document.querySelector("head").appendChild(u),void(e.timeout>0&&(l=setTimeout(function(){u.parentNode.removeChild(u),u=null,e.error&&e.error()},e.timeout)))}("GET"===o||"HEAD"===o)&&e.cache===!1&&(e.url+="_nocache="+Date.now());var f=new XMLHttpRequest;f.open(o,e.url,e.async,e.user,e.password);var h=null;if(("POST"===o||"PUT"===o)&&e.data)if(e.processData){var m=[ArrayBuffer,Blob,Document,FormData];if(m.indexOf(e.data.constructor)>=0)h=e.data;else{var g="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?f.setRequestHeader("Content-Type","multipart/form-data; boundary="+g):f.setRequestHeader("Content-Type",e.contentType),h="";var v=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){g="---------------------------"+Date.now().toString(16),v=v.split("&");for(var b=[],y=0;y<v.length;y++)b.push('Content-Disposition: form-data; name="'+v[y].split("=")[0]+'"\r\n\r\n'+v[y].split("=")[1]+"\r\n");h="--"+g+"\r\n"+b.join("--"+g+"\r\n")+"--"+g+"--\r\n"}else h="application/x-www-form-urlencoded"===e.contentType?v:v.replace(/&/g,"\r\n")}}else h=e.data;if(e.headers)for(var w in e.headers)f.setRequestHeader(w,e.headers[w]);if("undefined"==typeof e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||f.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields)for(var C in e.xhrFields)f[C]=e.xhrFields[C];return f.onload=function(){if((200===f.status||0===f.status)&&(t(document).trigger("ajaxSuccess",{xhr:f}),e.success)){var a=f.responseText;"json"===e.dataType&&(a=JSON.parse(a)),e.success(a,f.status,f)}e.statusCode&&e.statusCode[f.status]&&e.statusCode[f.status](f),e.complete&&e.complete(f),t(document).trigger("ajaxComplete",{xhr:f})},f.onerror=function(){t(document).trigger("ajaxError",{xhr:f}),e.error&&e.error(f)},e.start&&e.start(f),t(document).trigger("ajaxStart",{xhr:f}),f.send(h),f},function(){function e(e){t[e]=function(a,n,r){return t.ajax({url:a,method:"post"===e?"POST":"GET",data:"function"==typeof n?void 0:n,success:"function"==typeof n?n:r,dataType:"getJSON"===e?"json":void 0})}}for(var a="get post getJSON".split(" "),n=0;n<a.length;n++)e(a[n])}(),t.parseUrlQuery=function(e){var t,a,n,r={};if(!(e.indexOf("?")>=0))return r;for(e=e.split("?")[1],a=e.split("&"),t=0;t<a.length;t++)n=a[t].split("="),r[n[0]]=n[1];return r},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)?!0:!1},t.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},t.trim=function(e){return e.trim()},t.serializeObject=function(e){if("string"==typeof e)return e;var a=[],n="&";for(var r in e)if(t.isArray(e[r])){for(var o=[],i=0;i<e[r].length;i++)o.push(r+"="+e[r][i]);a.push(o.join(n))}else a.push(r+"="+e[r]);return a.join(n)},t.getTranslate=function(e,t){var a,n,r,o;return"undefined"==typeof t&&(t="x"),r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):(o=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=o.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?o.m41:parseFloat(16===a.length?a[12]:a[4])),"y"===t&&(n=window.WebKitCSSMatrix?o.m42:parseFloat(16===a.length?a[13]:a[5])),n||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.fn=e.prototype,t.fn.scrollTo=function(e,a,n){return this.each(function(){function r(e){void 0===e&&(e=(new Date).getTime()),null===g&&(g=e);var a;h&&(p=o+(e-g)/n*(c-o)),m&&(u=i+(e-g)/n*(d-i)),h&&c>o&&p>=c&&(f.scrollTop=c,a=!0),h&&o>c&&c>=p&&(f.scrollTop=c,a=!0),m&&d>i&&u>=d&&(f.scrollLeft=d,a=!0),m&&i>d&&d>=u&&(f.scrollLeft=d,a=!0),a||(h&&(f.scrollTop=p),m&&(f.scrollLeft=u),t.requestAnimationFrame(r))}var o,i,s,l,c,d,p,u,f=this,h=a>0||0===a,m=e>0||0===e;if(h&&(o=f.scrollTop,n||(f.scrollTop=a)),m&&(i=f.scrollLeft,n||(f.scrollLeft=e)),n){h&&(s=f.scrollHeight-f.offsetHeight,c=Math.max(Math.min(a,s),0)),m&&(l=f.scrollWidth-f.offsetWidth,d=Math.max(Math.min(e,l),0));var g=null;h&&c===o&&(h=!1),m&&d===i&&(m=!1),t.requestAnimationFrame(r)}})},t.fn.scrollTop=function(e,t){var a=this;return"undefined"==typeof e?a.length>0?a[0].scrollTop:null:a.scrollTo(void 0,e,t)},t.fn.scrollLeft=function(e,t){var a=this;return"undefined"==typeof e?a.length>0?a[0].scrollLeft:null:a.scrollTo(e,void 0,t)},t}();Framework7.$=e;window.Dom7=e,Framework7.prototype.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return e}(),Framework7.prototype.device=function(){var t={},a=navigator.userAgent,n=e,r=a.match(/(Android);?[\s\/]+([\d.]+)?/),o=a.match(/(iPad).*OS\s([\d_]+)/),i=a.match(/(iPod)(.*OS\s([\d_]+))?/),s=!o&&a.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=!1,r&&(t.os="android",t.osVersion=r[2],t.android=!0),(o||s||i)&&(t.os="ios",t.ios=!0),s&&!i&&(t.osVersion=s[2].replace(/_/g,"."),t.iphone=!0),o&&(t.osVersion=o[2].replace(/_/g,"."),t.ipad=!0),i&&(t.osVersion=i[3]?i[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&a.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(s||o||i)&&a.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(i||s)&&(1*l[0]===7?1*l[1]>=1:1*l[0]>7)&&n('meta[name="viewport"]').length>0&&n('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=n(window).width(),d=n(window).height();t.statusBar=!1,t.statusBar=t.webView&&c*d===screen.width*screen.height?!0:!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),f=u-1;f>=6;f--)p.push("ios-gt-"+f);return t.statusBar?p.push("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay"),p.length>0&&n("html").addClass(p.join(" ")),t}(),Framework7.prototype.plugins={}}(),window.Template7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function a(e){var t,a,n,r=e.replace(/[{}#}]/g,"").split(" "),o=[];for(a=0;a<r.length;a++){var i=r[a];if(0===a)o.push(i);else if(0===i.indexOf('"'))if(2===i.match(/"/g).length)o.push(i);else{for(t=0,n=a+1;n<r.length;n++)if(i+=" "+r[n],r[n].indexOf('"')>=0){t=n,o.push(i);break}t&&(a=t)}else if(i.indexOf("=")>0){var s=i.split("="),l=s[0],c=s[1];if(2!==c.match(/"/g).length){for(t=0,n=a+1;n<r.length;n++)if(c+=" "+r[n],r[n].indexOf('"')>=0){t=n;break}t&&(a=t)}var d=[l,c.replace(/"/g,"")];o.push(d)}else o.push(i)}return o}function n(t){var n,r,o=[];if(!t)return[];var i=t.split(/({{[^{^}]*}})/);for(n=0;n<i.length;n++){var s=i[n];if(""!==s)if(s.indexOf("{{")<0)o.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){o.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var l=a(s),c=l[0],d=[],p={};for(r=1;r<l.length;r++){var u=l[r];e(u)?p[u[0]]="false"===u[1]?!1:u[1]:d.push(u)}if(s.indexOf("{#")>=0){var f,h="",m="",g=0,v=!1,b=!1,y=0;for(r=n+1;r<i.length;r++)if(i[r].indexOf("{{#")>=0&&y++,i[r].indexOf("{{/")>=0&&y--,i[r].indexOf("{{#"+c)>=0)h+=i[r],b&&(m+=i[r]),g++;else if(i[r].indexOf("{{/"+c)>=0){if(!(g>0)){f=r,v=!0;break}g--,h+=i[r],b&&(m+=i[r])}else i[r].indexOf("else")>=0&&0===y?b=!0:(b||(h+=i[r]),b&&(m+=i[r]));v&&(f&&(n=f),o.push({type:"helper",helperName:c,contextName:d,content:h,inverseContent:m,hash:p}))}else s.indexOf(" ")>0&&o.push({type:"helper",helperName:c,contextName:d,hash:p})}}return o}var r=function(e){function t(e,t){return e.content?i(e.content,t):function(){return""}}function a(e,t){return e.inverseContent?i(e.inverseContent,t):function(){return""}}function r(e,t){var a;if(e.indexOf("@global")>=0)a="(Template7.global && Template7.global."+e.split("@global.")[1]+")";else if(e.indexOf("@")>=0)a="(data && data."+e.replace("@","")+")";else if(e.indexOf(".")>0)a=0===e.indexOf("this")?e.replace("this",t):t+"."+e;else if(0===e.indexOf("../")){var n=e.split("../").length-1,r=e.split("../")[e.split("../").length-1],o=t.split("_")[1]-n;a="ctx_"+(o>=1?o:1)+"."+r}else a="this"===e?t:t+"."+e;return a}function o(e,t){for(var a=[],n=0;n<e.length;n++)a.push(0===e[n].indexOf('"')?e[n]:r(e[n],t));return a.join(", ")}function i(e,i){if(i=i||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var l=n(e);if(0===l.length)return function(){return""};var c="ctx_"+i,d="(function ("+c+", data) {\n";1===i&&(d+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",d+="function isFunction(func){return (typeof func === 'function');}\n",d+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),d+="var r = '';\n";var p;for(p=0;p<l.length;p++){var u=l[p];if("plain"!==u.type){var f,h;if("variable"===u.type&&(f=r(u.contextName,c),d+="r += c("+f+", "+c+");"),"helper"===u.type)if(u.helperName in s.helpers)h=o(u.contextName,c),d+="r += (Template7.helpers."+u.helperName+").call("+c+", "+(h&&h+",")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+a(u,i+1)+"});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');f=r(u.helperName,c),d+="if ("+f+") {",d+="if (isArray("+f+")) {",d+="r += (Template7.helpers.each).call("+c+", "+f+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+a(u,i+1)+"});",d+="}else {",d+="r += (Template7.helpers.with).call("+c+", "+f+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+a(u,i+1)+"});",d+="}}"}}else d+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return d+="\nreturn r;})",eval.call(window,d)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=i(e)),s.compiled}};r.prototype={options:{},helpers:{"if":function(e,a){return t(e)&&(e=e.call(this)),e?a.fn(this,a.data):a.inverse(this,a.data)},unless:function(e,a){return t(e)&&(e=e.call(this)),e?a.inverse(this,a.data):a.fn(this,a.data)},each:function(a,n){var r="",o=0;if(t(a)&&(a=a.call(this)),e(a)){for(n.hash.reverse&&(a=a.reverse()),o=0;o<a.length;o++)r+=n.fn(a[o],{first:0===o,last:o===a.length-1,index:o});n.hash.reverse&&(a=a.reverse())}else for(var i in a)o++,r+=n.fn(a[i],{key:i});return o>0?r:n.inverse(this)},"with":function(e,a){return t(e)&&(e=e.call(this)),a.fn(e)},join:function(e,a){return t(e)&&(e=e.call(this)),e.join(a.hash.delimiter||a.hash.delimeter)}}};var o=function(e,t){if(2===arguments.length){var a=new r(e),n=a.compile()(t);return a=null,n}return new r(e)};return o.registerHelper=function(e,t){r.prototype.helpers[e]=t},o.unregisterHelper=function(e){r.prototype.helpers[e]=void 0,delete r.prototype.helpers[e]},o.compile=function(e,t){var a=new r(e,t);return a.compile()},o.options=r.prototype.options,o.helpers=r.prototype.helpers,o}(),define("f7",function(e){return function(){var t;return t||e.Framework7}}(this)),function(){define("app",["f7"],function(e){var t,a;return a=1,t=new e({modalTitle:"Думская",animateNavBackIcon:!0,pushState:!1,ajaxLinks:".ajax",onAjaxStart:function(){return t.showIndicator()},onAjaxComplete:function(){return t.hideIndicator()}}),a||(console.log=function(){}),t})}.call(this),function(){define("routes",["_"],function(){var e;return new(e=function(){function e(){}return e.prototype.$=null,e.prototype.init=function(){return this.$=Framework7.$},e.prototype.loadPage=function(e,t){return require(["./views/"+e+"View"],function(e){return delete baseApplication.currentView,baseApplication.currentView=new e(t)})},e}())})}.call(this),function(){define("layout",["app"],function(e){var t;return t=".view-main",console.log,e.addView(t,{dynamicNavbar:!0,domCache:!0})})}.call(this),define("xml2json",function(){}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("sync",["_","xml2json"],function(){var t;return t=function(){function t(){this.getTVRssUrl=e(this.getTVRssUrl,this),this.getBlogsRssUrl=e(this.getBlogsRssUrl,this),this.getNewsRssUrl=e(this.getNewsRssUrl,this),this.x2js=new X2JS}return t.prototype.$=Framework7.$,t.prototype.isProd=!0,t.prototype.getNewsRssUrl=function(){var e;return e="/",this.isProd||(e=".xml"),this.getRoot()+"rssios"+e},t.prototype.getBlogsRssUrl=function(){var e;return e="/",this.isProd||(e=".xml"),this.getRoot()+"rssblogs"+e},t.prototype.getTVRssUrl=function(){var e;return e="/",this.isProd||(e=".xml"),this.getRoot()+"rsstv"+e},t.prototype.getRoot=function(){return this.isProd?"http://dumskaya.net/":"./rss/"},t.prototype.request=function(e,t,a){var n,r;return n=this,r=new XMLHttpRequest,r.open("GET",e+("?"+Date.now()),!0),r.onreadystatechange=function(){var o;if(4===r.readyState)return 200===r.status?(o=r.responseText,t&&(o=r.responseText.replace(/\<\?xml.+\?\>/,""),o=n.x2js.xml_str2json(o),o=o.rss),a(o)):(console.error("xmlHttpRequest error status "+r.status+" and url "+e),a?a(!1,r.statusText):void 0)},r.send()},t.prototype.getComments=function(e,t){return this.request(e,!1,t,function(){return console.error("comments get error")})},t}()})}.call(this),function(){define("helpers",["f7","_"],function(e){var t;return t=function(){function t(){}return t.prototype.$=e.$,t.prototype.date=new Date,t.prototype.months=[{name:"января",shortName:"янв."},{name:"февраля",shortName:"фев."},{name:"марта",shortName:"март."},{name:"апреля",shortName:"апр."},{name:"мая",shortName:"мая"},{name:"июня",shortName:"июн."},{name:"июля",shortName:"июл."},{name:"августа",shortName:"авг."},{name:"сентября",shortName:"сент."},{name:"октября",shortName:"окт."},{name:"ноября",shortName:"нояб."},{name:"декабрь",shortName:"дек."}],t.prototype.getMonthName=function(e,t){var a;return a="name",t&&(a="shortName"),this.months[e][a]},t.prototype.getShortItemDate=function(e,t){var a,n,r,o,i,s,l;return a=new Date(e),n=a.getDate(),o=a.getMonth(),i=this.getMonthName(a.getMonth(),!0),l=a.getFullYear(),r=a.getMinutes(),10>r&&(r="0"+r),s=t?"":a.getHours()+":"+r,n===this.date.getDate()&&o===this.date.getMonth()&&l===this.date.getFullYear()?"Сегодня "+s:n+1===this.date.getDate()&&o===this.date.getMonth()&&l===this.date.getFullYear()?"Вчера "+s:n+" "+i+" "+l},t.prototype.getTime=function(e){var t,a,n;return t=new Date(e),a=t.getMinutes(),10>a&&(a="0"+a),n=t.getHours()+":"+a},t.prototype.compareTwoDates=function(e,t){var a,n;return a=new Date(e),n=new Date(t),a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()&&a.getDate()===n.getDate()},t}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("cache",["f7","_"],function(t,a){var n;return n=function(){function n(t){this.dropTables=e(this.dropTables,this),this.querySuccess=e(this.querySuccess,this),this.getDataFromTable=e(this.getDataFromTable,this),this.setTableData=e(this.setTableData,this),this.createDbTables=e(this.createDbTables,this),this.initDatabase(t)}return n.prototype.$=t.$,n.prototype.date=new Date,n.prototype.data={},n.prototype.dbName="dumskayaDB",n.prototype.version="1.0",n.prototype.db=null,n.prototype.getList=function(e,t,a){var n;return n=0,a&&(n=1e3),this.getDataFromTable(e,function(r){return function(o){var i;return o&&!a?(setTimeout(function(){var n;return r.data[e]||(n=JSON.parse(o.data),r.data[e]=n,t(n,e)),a?a():void 0},n),!1):(i=r.getUrl(e),baseApplication.sync.request(i,!0,function(i){return i&&i.channel&&(r.data[e]=i,r.setTableData(e,i)),setTimeout(function(){return i&&i.channel?t(i,e):o||t(i,e),a?a():void 0},n)}))}}(this))},n.prototype.getUrl=function(e){switch(e){case"news":return baseApplication.sync.getNewsRssUrl();case"blogs":return baseApplication.sync.getBlogsRssUrl();case"tv":return baseApplication.sync.getTVRssUrl();default:return console.error("URL not found by key")}},n.prototype.getCompiledHtml=function(e,t,n){var r,o,i;return r=this.getCachedHtml(e),r?i=r:(o=a.template(t),i=o(n)),i},n.prototype.getCachedHtml=function(){return!1},n.prototype.setCachedHtml=function(){},n.prototype.databaseError=function(e){return console.error("An IndexedDB error has occurred",e)},n.prototype.initDatabase=function(e){var t,a;return t="Web SQL Storage Dumskaya Database",a=20971520,window.openDatabase?(this.db=openDatabase(this.dbName,this.version,t,a),this.db.transaction(this.createDbTables,this.errorHandler),e()):(e(),console.error("It seems your browser does not have support for WebSQL."))},n.prototype.createDbTables=function(e){return e.executeSql("CREATE TABLE IF NOT EXISTS news (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, data TEXT, created REAL)",[],null,this.errorHandler),e.executeSql("CREATE TABLE IF NOT EXISTS blogs (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, data TEXT, created REAL)",[],null,this.errorHandler),e.executeSql("CREATE TABLE IF NOT EXISTS tv (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, data TEXT, created REAL)",[],null,this.errorHandler),e.executeSql("CREATE TABLE IF NOT EXISTS articles (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, data TEXT, created REAL)",[],null,this.errorHandler)},n.prototype.errorHandler=function(e){return console.error(e),!1},n.prototype.setTableData=function(e,t){return this.db.transaction(function(){return function(a){return a.executeSql("INSERT OR REPLACE INTO "+e+" (id,data, created) VALUES (?,?,?)",[1,JSON.stringify(t),(new Date).getTime()],function(e,t){return t.rowsAffected?void 0:(alert("No rows affected!"),!1)})}}(this),this.errorHandler,function(){return console.log("set to db-success!")})},n.prototype.getDataFromTable=function(e,t){return this.db.transaction(function(a){return function(n){return n.executeSql("SELECT * FROM "+e,[],function(e,a){var n;return n=a.rows.length?a.rows.item(0):!1,t(n)},a.errorHandler,a.querySuccess())}}(this))},n.prototype.querySuccess=function(){},n.prototype.dropTables=function(e){return this.db.transaction(function(){return function(t){return t.executeSql("DROP TABLE "+e,[],function(){return console.log("Successfully Dropped")})}}(this))},n}()})}.call(this),function(){define("bootstrap",["require","_","f7","app","routes","layout","sync","helpers","cache"],function(e,t,a,n,r,o,i,s,l){var c;return c=function(){return window.baseApplication={f7app:n,mainLayout:o,router:r,sync:new i,helpers:new s,cache:new l(function(){return r.loadPage("list"),r.loadPage("menu"),n.hideIndicator()})}},e(["domReady!"],function(){return c(document)})})}.call(this),function(){require.config({urlArgs:"antichache",baseUrl:"./js/",paths:{domReady:"./libs/domReady",f7:"./libs/framework7",hammer:"./libs/hammer",_:"./libs/underscore",xml2json:"./libs/xml2json",app:"./common/app",layout:"./common/layout",routes:"./common/routes",baseView:"./common/baseView",categoryView:"./common/categoryView",sync:"./common/sync",mainTabs:"./common/tabs",helpers:"./common/helpers",cache:"./common/cache"},shim:{f7:{exports:"Framework7"},_:{exports:"_"},routes:{deps:["f7","_"]},app:{deps:["f7","_"]},sync:{deps:["f7","_","xml2json"]},layout:{deps:["app"]},categoryView:{deps:["baseView"]}},deps:["bootstrap"]})}.call(this),define("main",function(){}),console.log=function(){},console.debug=function(){},define("prod",function(){}),function(){var PLATFORM_VERSION_BUILD_LABEL="3.6.4",require,define;!function(){function e(e){var t=e.factory,a=function(t){var a=t;return"."===t.charAt(0)&&(a=e.id.slice(0,e.id.lastIndexOf(r))+r+t.slice(2)),require(a)};return e.exports={},delete e.factory,t(a,e.exports,e),e.exports}var t={},a=[],n={},r=".";require=function(r){if(!t[r])throw"module "+r+" not found";if(r in n){var o=a.slice(n[r]).join("->")+"->"+r;throw"Cycle in require graph: "+o}if(t[r].factory)try{return n[r]=a.length,a.push(r),e(t[r])}finally{delete n[r],a.pop()}return t[r].exports},define=function(e,a){if(t[e])throw"module "+e+" already defined";t[e]={id:e,factory:a}},define.remove=function(e){delete t[e]},define.moduleMap=t}(),"object"==typeof module&&"function"==typeof require&&(module.exports.require=require,module.exports.define=define),define("cordova",function(e,t,a){function n(e,t){var a=document.createEvent("Events");if(a.initEvent(e,!1,!1),t)for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);return a}var r=e("cordova/channel"),o=e("cordova/platform"),i=document.addEventListener,s=document.removeEventListener,l=window.addEventListener,c=window.removeEventListener,d={},p={};document.addEventListener=function(e,t,a){var n=e.toLowerCase();"undefined"!=typeof d[n]?d[n].subscribe(t):i.call(document,e,t,a)},window.addEventListener=function(e,t,a){var n=e.toLowerCase();"undefined"!=typeof p[n]?p[n].subscribe(t):l.call(window,e,t,a)},document.removeEventListener=function(e,t,a){var n=e.toLowerCase();"undefined"!=typeof d[n]?d[n].unsubscribe(t):s.call(document,e,t,a)},window.removeEventListener=function(e,t,a){var n=e.toLowerCase();"undefined"!=typeof p[n]?p[n].unsubscribe(t):c.call(window,e,t,a)};var u={define:define,require:e,version:PLATFORM_VERSION_BUILD_LABEL,platformVersion:PLATFORM_VERSION_BUILD_LABEL,platformId:o.id,addWindowEventHandler:function(e){return p[e]=r.create(e)},addStickyDocumentEventHandler:function(e){return d[e]=r.createSticky(e)},addDocumentEventHandler:function(e){return d[e]=r.create(e)},removeWindowEventHandler:function(e){delete p[e]},removeDocumentEventHandler:function(e){delete d[e]},getOriginalHandlers:function(){return{document:{addEventListener:i,removeEventListener:s},window:{addEventListener:l,removeEventListener:c}}},fireDocumentEvent:function(e,t,a){var r=n(e,t);"undefined"!=typeof d[e]?a?d[e].fire(r):setTimeout(function(){"deviceready"==e&&document.dispatchEvent(r),d[e].fire(r)},0):document.dispatchEvent(r)},fireWindowEvent:function(e,t){var a=n(e,t);"undefined"!=typeof p[e]?setTimeout(function(){p[e].fire(a)},0):window.dispatchEvent(a)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(e,t){try{u.callbackFromNative(e,!0,t.status,[t.message],t.keepCallback)}catch(a){console.log("Error in success callback: "+e+" = "+a)}},callbackError:function(e,t){try{u.callbackFromNative(e,!1,t.status,[t.message],t.keepCallback)}catch(a){console.log("Error in error callback: "+e+" = "+a)}},callbackFromNative:function(e,t,a,n,r){var o=u.callbacks[e];o&&(t&&a==u.callbackStatus.OK?o.success&&o.success.apply(null,n):t||o.fail&&o.fail.apply(null,n),r||delete u.callbacks[e])},addConstructor:function(e){r.onCordovaReady.subscribe(function(){try{e()}catch(t){console.log("Failed to run constructor: "+t)}})}};a.exports=u}),define("cordova/android/nativeapiprovider",function(e,t,a){var n=this._cordovaNative||e("cordova/android/promptbasednativeapi"),r=n;a.exports={get:function(){return r},setPreferPrompt:function(t){r=t?e("cordova/android/promptbasednativeapi"):n},set:function(e){r=e}}}),define("cordova/android/promptbasednativeapi",function(e,t,a){a.exports={exec:function(e,t,a,n,r){return prompt(r,"gap:"+JSON.stringify([e,t,a,n]))},setNativeToJsBridgeMode:function(e,t){prompt(t,"gap_bridge_mode:"+e)},retrieveJsMessages:function(e,t){return prompt(+t,"gap_poll:"+e)}}}),define("cordova/argscheck",function(e,t,a){function n(e,t){return/.*?\((.*?)\)/.exec(e)[1].split(", ")[t]}function r(e,t,a,r){if(s.enableChecks){for(var o,c=null,d=0;d<e.length;++d){var p=e.charAt(d),u=p.toUpperCase(),f=a[d];if("*"!=p&&(o=i.typeName(f),(null!==f&&void 0!==f||p!=u)&&o!=l[u])){c="Expected "+l[u];break}}if(c)throw c+=", but got "+o+".",c='Wrong type for parameter "'+n(r||a.callee,d)+'" of '+t+": "+c,"undefined"==typeof jasmine&&console.error(c),TypeError(c)}}function o(e,t){return void 0===e?t:e}var i=(e("cordova/exec"),e("cordova/utils")),s=a.exports,l={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};s.checkArgs=r,s.getValue=o,s.enableChecks=!0}),define("cordova/base64",function(e,t){function a(e){for(var t,a=e.byteLength,n="",r=i(),s=0;a-2>s;s+=3)t=(e[s]<<16)+(e[s+1]<<8)+e[s+2],n+=r[t>>12],n+=r[4095&t];return a-s==2?(t=(e[s]<<16)+(e[s+1]<<8),n+=r[t>>12],n+=o[(4095&t)>>6],n+="="):a-s==1&&(t=e[s]<<16,n+=r[t>>12],n+="=="),n}var n=t;n.fromArrayBuffer=function(e){var t=new Uint8Array(e);return a(t)},n.toArrayBuffer=function(e){for(var t="undefined"!=typeof atob?atob(e):new Buffer(e,"base64").toString("binary"),a=new ArrayBuffer(t.length),n=new Uint8Array(a),r=0,o=t.length;o>r;r++)n[r]=t.charCodeAt(r);return a};var r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(){r=[];for(var e=0;64>e;e++)for(var t=0;64>t;t++)r[64*e+t]=o[e]+o[t];return i=function(){return r},r}}),define("cordova/builder",function(e,t){function a(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.apply(a,[e[n],n])}function n(e,a,n){t.replaceHookForTesting(e,a),e[a]=n,e[a]!==n&&s.defineGetter(e,a,function(){return n})}function r(e,t,a,r){r?s.defineGetter(e,t,function(){return console.log(r),delete e[t],n(e,t,a),a}):n(e,t,a)}function o(t,n,l,c){a(n,function(a,n){try{var d=a.path?e(a.path):{};l?("undefined"==typeof t[n]?r(t,n,d,a.deprecated):"undefined"!=typeof a.path&&(c?i(t[n],d):r(t,n,d,a.deprecated)),d=t[n]):"undefined"==typeof t[n]?r(t,n,d,a.deprecated):d=t[n],a.children&&o(d,a.children,l,c)}catch(p){s.alert("Exception building Cordova JS globals: "+p+' for key "'+n+'"')}})}function i(e,t){for(var a in t)t.hasOwnProperty(a)&&(e.prototype&&e.prototype.constructor===e?n(e.prototype,a,t[a]):"object"==typeof t[a]&&"object"==typeof e[a]?i(e[a],t[a]):n(e,a,t[a]))}var s=e("cordova/utils");t.buildIntoButDoNotClobber=function(e,t){o(t,e,!1,!1)},t.buildIntoAndClobber=function(e,t){o(t,e,!0,!1)},t.buildIntoAndMerge=function(e,t){o(t,e,!0,!0)},t.recursiveMerge=i,t.assignOrWrapInDeprecateGetter=r,t.replaceHookForTesting=function(){}}),define("cordova/channel",function(e,t,a){function n(e){if("function"!=typeof e)throw"Function required as first argument!"}var r=e("cordova/utils"),o=1,i=function(e,t){this.type=e,this.handlers={},this.state=t?1:0,this.fireArgs=null,this.numHandlers=0,this.onHasSubscribersChange=null},s={join:function(e,t){for(var a=t.length,n=a,r=function(){--n||e()},o=0;a>o;o++){if(0===t[o].state)throw Error("Can only use join with sticky channels.");t[o].subscribe(r)}a||e()},create:function(e){return s[e]=new i(e,!1)},createSticky:function(e){return s[e]=new i(e,!0)},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(e){if(e){var t=s[e]||this.createSticky(e);this.deviceReadyChannelsMap[e]=t,this.deviceReadyChannelsArray.push(t)}},initializationComplete:function(e){var t=this.deviceReadyChannelsMap[e];t&&t.fire()}};i.prototype.subscribe=function(e,t){if(n(e),2==this.state)return void e.apply(t||this,this.fireArgs);var a=e,i=e.observer_guid;"object"==typeof t&&(a=r.close(t,e)),i||(i=""+o++),a.observer_guid=i,e.observer_guid=i,this.handlers[i]||(this.handlers[i]=a,this.numHandlers++,1==this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},i.prototype.unsubscribe=function(e){n(e);var t=e.observer_guid,a=this.handlers[t];a&&(delete this.handlers[t],this.numHandlers--,0===this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},i.prototype.fire=function(){var e=Array.prototype.slice.call(arguments);if(1==this.state&&(this.state=2,this.fireArgs=e),this.numHandlers){var t=[];for(var a in this.handlers)t.push(this.handlers[a]);for(var n=0;n<t.length;++n)t[n].apply(this,e);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}},s.createSticky("onDOMContentLoaded"),s.createSticky("onNativeReady"),s.createSticky("onCordovaReady"),s.createSticky("onPluginsReady"),s.createSticky("onDeviceReady"),s.create("onResume"),s.create("onPause"),s.createSticky("onDestroy"),s.waitForInitialization("onCordovaReady"),s.waitForInitialization("onDOMContentLoaded"),a.exports=s}),define("cordova/exec",function(require,exports,module){function androidExec(e,t,a,n,r){if(0>bridgeSecret)throw new Error("exec() called without bridgeSecret");void 0===jsToNativeBridgeMode&&androidExec.setJsToNativeBridgeMode(jsToNativeModes.JS_OBJECT);for(var o=0;o<r.length;o++)"ArrayBuffer"==utils.typeName(r[o])&&(r[o]=base64.fromArrayBuffer(r[o]));var i=a+cordova.callbackId++,s=JSON.stringify(r);(e||t)&&(cordova.callbacks[i]={success:e,fail:t});var l=nativeApiProvider.get().exec(bridgeSecret,a,n,i,s);return jsToNativeBridgeMode==jsToNativeModes.JS_OBJECT&&"@Null arguments."===l?(androidExec.setJsToNativeBridgeMode(jsToNativeModes.PROMPT),androidExec(e,t,a,n,r),void androidExec.setJsToNativeBridgeMode(jsToNativeModes.JS_OBJECT)):void androidExec.processMessages(l,!0)}function pollOnceFromOnlineEvent(){pollOnce(!0)}function pollOnce(e){if(!(0>bridgeSecret)){var t=nativeApiProvider.get().retrieveJsMessages(bridgeSecret,!!e);androidExec.processMessages(t)}}function pollingTimerFunc(){pollEnabled&&(pollOnce(),setTimeout(pollingTimerFunc,50))}function hookOnlineApis(){function e(e){cordova.fireWindowEvent(e.type)}window.addEventListener("online",pollOnceFromOnlineEvent,!1),window.addEventListener("offline",pollOnceFromOnlineEvent,!1),cordova.addWindowEventHandler("online"),cordova.addWindowEventHandler("offline"),document.addEventListener("online",e,!1),document.addEventListener("offline",e,!1)}function processMessage(message){try{var firstChar=message.charAt(0);if("J"==firstChar)eval(message.slice(1));else if("S"==firstChar||"F"==firstChar){var success="S"==firstChar,keepCallback="1"==message.charAt(1),spaceIdx=message.indexOf(" ",2),status=+message.slice(2,spaceIdx),nextSpaceIdx=message.indexOf(" ",spaceIdx+1),callbackId=message.slice(spaceIdx+1,nextSpaceIdx),payloadKind=message.charAt(nextSpaceIdx+1),payload;if("s"==payloadKind)payload=message.slice(nextSpaceIdx+2);else if("t"==payloadKind)payload=!0;else if("f"==payloadKind)payload=!1;else if("N"==payloadKind)payload=null;else if("n"==payloadKind)payload=+message.slice(nextSpaceIdx+2);else if("A"==payloadKind){for(var data=message.slice(nextSpaceIdx+2),bytes=window.atob(data),arraybuffer=new Uint8Array(bytes.length),i=0;i<bytes.length;i++)arraybuffer[i]=bytes.charCodeAt(i);payload=arraybuffer.buffer}else payload="S"==payloadKind?window.atob(message.slice(nextSpaceIdx+2)):JSON.parse(message.slice(nextSpaceIdx+1));cordova.callbackFromNative(callbackId,success,status,[payload],keepCallback)}else console.log("processMessage failed: invalid message: "+JSON.stringify(message))}catch(e){console.log("processMessage failed: Error: "+e),console.log("processMessage failed: Stack: "+e.stack),console.log("processMessage failed: Message: "+message)}}function popMessageFromQueue(){var e=messagesFromNative.shift();if("*"==e)return"*";var t=e.indexOf(" "),a=+e.slice(0,t),n=e.substr(t+1,a);return e=e.slice(t+a+1),e&&messagesFromNative.unshift(e),n}var cordova=require("cordova"),nativeApiProvider=require("cordova/android/nativeapiprovider"),utils=require("cordova/utils"),base64=require("cordova/base64"),channel=require("cordova/channel"),jsToNativeModes={PROMPT:0,JS_OBJECT:1},nativeToJsModes={POLLING:0,LOAD_URL:1,ONLINE_EVENT:2,PRIVATE_API:3},jsToNativeBridgeMode,nativeToJsBridgeMode=nativeToJsModes.ONLINE_EVENT,pollEnabled=!1,messagesFromNative=[],bridgeSecret=-1;
androidExec.init=function(){bridgeSecret=+prompt("","gap_init:"+nativeToJsBridgeMode),channel.onNativeReady.fire()},hookOnlineApis(),androidExec.jsToNativeModes=jsToNativeModes,androidExec.nativeToJsModes=nativeToJsModes,androidExec.setJsToNativeBridgeMode=function(e){e!=jsToNativeModes.JS_OBJECT||window._cordovaNative||(e=jsToNativeModes.PROMPT),nativeApiProvider.setPreferPrompt(e==jsToNativeModes.PROMPT),jsToNativeBridgeMode=e},androidExec.setNativeToJsBridgeMode=function(e){e!=nativeToJsBridgeMode&&(nativeToJsBridgeMode==nativeToJsModes.POLLING&&(pollEnabled=!1),nativeToJsBridgeMode=e,bridgeSecret>=0&&nativeApiProvider.get().setNativeToJsBridgeMode(bridgeSecret,e),e==nativeToJsModes.POLLING&&(pollEnabled=!0,setTimeout(pollingTimerFunc,1)))};var isProcessing=!1;androidExec.processMessages=function(e,t){if(e&&messagesFromNative.push(e),!isProcessing){if(t)return void window.setTimeout(androidExec.processMessages,0);isProcessing=!0;try{for(;messagesFromNative.length;){var a=popMessageFromQueue();if("*"==a&&0===messagesFromNative.length)return void setTimeout(pollOnce,0);processMessage(a)}}finally{isProcessing=!1}}},module.exports=androidExec}),define("cordova/exec/proxy",function(e,t,a){var n={};a.exports={add:function(e,t){return console.log("adding proxy for "+e),n[e]=t,t},remove:function(e){var t=n[e];return delete n[e],n[e]=null,t},get:function(e,t){return n[e]?n[e][t]:null}}}),define("cordova/init",function(e){function t(e){for(var t=0;t<e.length;++t)2!=e[t].state&&console.log("Channel not fired: "+e[t].type)}function a(e){var t=function(){};t.prototype=e;var a=new t;if(t.bind)for(var n in e)"function"==typeof e[n]?a[n]=e[n].bind(e):!function(t){Object.defineProperty(a,t,{get:function(){return e[t]},configurable:!0,enumerable:!0})}(n);return a}var n=e("cordova/channel"),r=e("cordova"),o=e("cordova/modulemapper"),i=e("cordova/platform"),s=e("cordova/pluginloader"),l=[n.onNativeReady,n.onPluginsReady];window.setTimeout(function(){2!=n.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),t(l),t(n.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=a(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(e){this.log("warn: "+e)}),n.onPause=r.addDocumentEventHandler("pause"),n.onResume=r.addDocumentEventHandler("resume"),n.onDeviceReady=r.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?n.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){n.onDOMContentLoaded.fire()},!1),window._nativeReady&&n.onNativeReady.fire(),o.clobbers("cordova","cordova"),o.clobbers("cordova/exec","cordova.exec"),o.clobbers("cordova/exec","Cordova.exec"),i.bootstrap&&i.bootstrap(),setTimeout(function(){s.load(function(){n.onPluginsReady.fire()})},0),n.join(function(){o.mapModules(window),i.initialize&&i.initialize(),n.onCordovaReady.fire(),n.join(function(){e("cordova").fireDocumentEvent("deviceready")},n.deviceReadyChannelsArray)},l)}),define("cordova/init_b",function(e){function t(e){for(var t=0;t<e.length;++t)2!=e[t].state&&console.log("Channel not fired: "+e[t].type)}function a(e){var t=function(){};t.prototype=e;var a=new t;if(t.bind)for(var n in e)"function"==typeof e[n]?a[n]=e[n].bind(e):!function(t){Object.defineProperty(a,t,{get:function(){return e[t]},configurable:!0,enumerable:!0})}(n);return a}var n=e("cordova/channel"),r=e("cordova"),o=e("cordova/platform"),i=[n.onDOMContentLoaded,n.onNativeReady];r.exec=e("cordova/exec"),window.setTimeout(function(){2!=n.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),t(i),t(n.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=a(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(e){this.log("warn: "+e)}),n.onPause=r.addDocumentEventHandler("pause"),n.onResume=r.addDocumentEventHandler("resume"),n.onDeviceReady=r.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?n.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){n.onDOMContentLoaded.fire()},!1),window._nativeReady&&n.onNativeReady.fire(),o.bootstrap&&o.bootstrap(),n.join(function(){o.initialize&&o.initialize(),n.onCordovaReady.fire(),n.join(function(){e("cordova").fireDocumentEvent("deviceready")},n.deviceReadyChannelsArray)},i)}),define("cordova/modulemapper",function(e,t){function a(e,t,a,n){if(!(t in s))throw new Error("Module "+t+" does not exist.");r.push(e,t,a),n&&(o[a]=n)}function n(e,t){if(!e)return t;for(var a,n=e.split("."),r=t,o=0;a=n[o];++o)r=r[a]=r[a]||{};return r}var r,o,i=e("cordova/builder"),s=define.moduleMap;t.reset=function(){r=[],o={}},t.clobbers=function(e,t,n){a("c",e,t,n)},t.merges=function(e,t,n){a("m",e,t,n)},t.defaults=function(e,t,n){a("d",e,t,n)},t.runs=function(e){a("r",e,null)},t.mapModules=function(t){var a={};t.CDV_origSymbols=a;for(var s=0,l=r.length;l>s;s+=3){var c=r[s],d=r[s+1],p=e(d);if("r"!=c){var u=r[s+2],f=u.lastIndexOf("."),h=u.substr(0,f),m=u.substr(f+1),g=u in o?"Access made to deprecated symbol: "+u+". "+g:null,v=n(h,t),b=v[m];"m"==c&&b?i.recursiveMerge(b,p):("d"==c&&!b||"d"!=c)&&(u in a||(a[u]=b),i.assignOrWrapInDeprecateGetter(v,m,p,g))}}},t.getOriginalSymbol=function(e,t){var a=e.CDV_origSymbols;if(a&&t in a)return a[t];for(var n=t.split("."),r=e,o=0;o<n.length;++o)r=r&&r[n[o]];return r},t.reset()}),define("cordova/platform",function(e,t,a){a.exports={id:"android",bootstrap:function(){function t(e){var t=n.addDocumentEventHandler(e+"button");t.onHasSubscribersChange=function(){r(null,null,"App","overrideButton",[e,1==this.numHandlers])}}var a=e("cordova/channel"),n=e("cordova"),r=e("cordova/exec"),o=e("cordova/modulemapper");r.init(),o.clobbers("cordova/plugin/android/app","navigator.app");var i=n.addDocumentEventHandler("backbutton");i.onHasSubscribersChange=function(){r(null,null,"App","overrideBackbutton",[1==this.numHandlers])},n.addDocumentEventHandler("menubutton"),n.addDocumentEventHandler("searchbutton"),t("volumeup"),t("volumedown"),a.onCordovaReady.subscribe(function(){r(null,null,"App","show",[])})}}}),define("cordova/plugin/android/app",function(e,t,a){var n=e("cordova/exec");a.exports={clearCache:function(){n(null,null,"App","clearCache",[])},loadUrl:function(e,t){n(null,null,"App","loadUrl",[e,t])},cancelLoadUrl:function(){n(null,null,"App","cancelLoadUrl",[])},clearHistory:function(){n(null,null,"App","clearHistory",[])},backHistory:function(){n(null,null,"App","backHistory",[])},overrideBackbutton:function(e){n(null,null,"App","overrideBackbutton",[e])},overrideButton:function(e,t){n(null,null,"App","overrideButton",[e,t])},exitApp:function(){return n(null,null,"App","exitApp",[])}}}),define("cordova/pluginloader",function(e,t){function a(e,a,n,r){r=r||n,e in define.moduleMap?n():t.injectScript(a,function(){e in define.moduleMap?n():r()},r)}function n(e,t){for(var a,n=0;a=e[n];n++){if(a.clobbers&&a.clobbers.length)for(var r=0;r<a.clobbers.length;r++)i.clobbers(a.id,a.clobbers[r]);if(a.merges&&a.merges.length)for(var o=0;o<a.merges.length;o++)i.merges(a.id,a.merges[o]);a.runs&&i.runs(a.id)}t()}function r(e,t,r){function o(){--i||n(t,r)}var i=t.length;if(!i)return void r();for(var s=0;s<t.length;s++)a(t[s].id,e+t[s].file,o)}function o(){for(var e=null,t=document.getElementsByTagName("script"),a="/cordova.js",n=t.length-1;n>-1;n--){var r=t[n].src.replace(/\?.*$/,"");if(r.indexOf(a)==r.length-a.length){e=r.substring(0,r.length-a.length)+"/";break}}return e}{var i=e("cordova/modulemapper");e("cordova/urlutil")}t.injectScript=function(e,t,a){var n=document.createElement("script");n.onload=t,n.onerror=a,n.src=e,document.head.appendChild(n)},t.load=function(t){var n=o();null===n&&(console.log("Could not find cordova.js script tag. Plugin loading may fail."),n=""),a("cordova/plugin_list",n+"cordova_plugins.js",function(){var a=e("cordova/plugin_list");r(n,a,t)},t)}}),define("cordova/urlutil",function(e,t){t.makeAbsolute=function(e){var t=document.createElement("a");return t.href=e,t.href}}),define("cordova/utils",function(e,t){function a(e){for(var t="",a=0;e>a;a++){var n=parseInt(256*Math.random(),10).toString(16);1==n.length&&(n="0"+n),t+=n}return t}var n=t;n.defineGetterSetter=function(e,t,a,n){if(Object.defineProperty){var r={get:a,configurable:!0};n&&(r.set=n),Object.defineProperty(e,t,r)}else e.__defineGetter__(t,a),n&&e.__defineSetter__(t,n)},n.defineGetter=n.defineGetterSetter,n.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=e.length,n=0;a>n;++n)if(e[n]==t)return n;return-1},n.arrayRemove=function(e,t){var a=n.arrayIndexOf(e,t);return-1!=a&&e.splice(a,1),-1!=a},n.typeName=function(e){return Object.prototype.toString.call(e).slice(8,-1)},n.isArray=function(e){return"Array"==n.typeName(e)},n.isDate=function(e){return"Date"==n.typeName(e)},n.clone=function(e){if(!e||"function"==typeof e||n.isDate(e)||"object"!=typeof e)return e;var t,a;if(n.isArray(e)){for(t=[],a=0;a<e.length;++a)t.push(n.clone(e[a]));return t}t={};for(a in e)a in t&&t[a]==e[a]||(t[a]=n.clone(e[a]));return t},n.close=function(e,t,a){return"undefined"==typeof a?function(){return t.apply(e,arguments)}:function(){return t.apply(e,a)}},n.createUUID=function(){return a(4)+"-"+a(2)+"-"+a(2)+"-"+a(2)+"-"+a(6)},n.extend=function(){var e=function(){};return function(t,a){e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t.prototype.constructor=t}}(),n.alert=function(e){window.alert?window.alert(e):console&&console.log&&console.log(e)}}),window.cordova=require("cordova"),require("cordova/init")}(),define("../cordova",function(){});